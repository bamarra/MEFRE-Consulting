(this.$WP=this.$WP||[]).push(["ngiT-o",(e,t)=>{"use strict";var a,r,l,n,i,s,o,c,d,m,u,E,f,p,g,I,v,_,h,S,N,b,C,T,k,y,L,P,A,R,H,O,w,x,F,D,M,B,G,U,V,q,W,z,Y,Z,j,J,K,Q,X={10953:"1",10955:"12",10954:"3"},$=e=>{switch(e){case"CUISINE":return c.CUISINES;case"MEAL_TYPE":return c.MEALS;default:return""}},ee=e=>e.map((e=>{var{url:t,width:a,height:r}=e||{};return t&&a&&r?{url:t,width:a,height:r}:null})).filter(Boolean),te="bInzF k O MC",ae="cATkh b",re=e=>{var{title:t,subtitle:l,filterType:i,filterValue:s,filterListType:o,url:m,filters:u,setCoverpageClick:E,toggleSelectFilter:f,toggleExpandFilterCategoryModal:p}=e,g=i||o&&"MEAL_TYPE"!==o,I=e=>{if(e.preventDefault(),o){var t=$(o),a=u.find((e=>e.identifier===t));if(!a)return;p(a,!0)}else if(i&&s){var[r,l]=((e,t)=>{switch(e){case"PRICE_RANGE":return[c.PRICE,X[t]||t];case"RESERVATION":return[c.DEALS_RESERVATIONS,t];case"ESTABLISHMENT_TYPE":return[c.ESTABLISHMENT_TYPE,t];case"OFFERS":return[c.DEALS_RESERVATIONS,d.DEALS.toString()];case"ALL_OPTIONS":switch(t){case"10613":return[c.GOOD_FOR,t];case"10600":case"10603":return[c.FEATURES,t];default:return[c.MEALS,t]}default:return["",""]}})(i,s),n=u.find((e=>e.identifier===r));if(!n)return;var m=n.filterItems.find((e=>`${e.id}`===l));if(!m)return;E(!0),f(n,m)}},v=a.createElement("a",{className:ae,onClick:I,href:m},t);return g?a.createElement("div",{className:te},a.createElement("div",null,n("seo_h2_h3_tags")?a.createElement("h2",null,v):v,l&&a.createElement("a",{className:"cdFQR Ci",onClick:I,href:m},l)),a.createElement("a",{className:"bRHmp b q",onClick:I,href:m},a.createElement(r,{id:"social_see_more"})," ")):a.createElement("div",{className:te},a.createElement("span",{className:ae},t))},le=()=>a.createElement("div",{className:"uttQO _T w Gh X0 X1 H0"},a.createElement(g,{name:"restaurants"})),ne=({filterItem:e,uxHints:t,id:l,filterListType:n,filters:i,setCoverpageClick:s,toggleSelectFilter:o})=>{var{photo:c,title:d,url:m}=e,u=null==c?void 0:c.photoSizes,E=null==t?void 0:t.includes("CUISINE_SHELF_LOCAL_ITEM"),f=e=>{if(e.preventDefault(),n){var t=$(n),a=i.find((e=>e.identifier===t));if(!a)return;var r=l&&l.split(":")[1],c=a.filterItems.find((e=>`${e.id}`===r));if(!c)return;s(!0),o(a,c)}};return a.createElement("div",{className:"bbfNE Gi"},a.createElement("a",{onClick:f,href:m},a.createElement("div",{className:"cJoQk"},u?a.createElement(p,{sources:ee(u),width:"100%",height:"100%"}):a.createElement(V,null))),a.createElement("a",{className:"dhcBg",onClick:f,href:m},E&&a.createElement("span",{className:"cYZkH n"},a.createElement(r,{id:"tags_category_tag_local_cuisine"})),a.createElement(r,{id:"restaurants_browse_by_food_type",args:{0:d}})))},ie=({promotionPercentage:e})=>a.createElement("div",{className:"exWfX _Q Z1 S W q"},a.createElement(O,{type:"secondary",constrainWidth:!1},a.createElement("span",{className:"bJgru"},a.createElement(r,{id:"blcoupons_percent_off",args:{0:e}})))),se=({location:e,loggedInUserInfo:t,isSponsoredPlacement:l})=>{var{locationId:n,thumbnail:i}=e,s=null==i?void 0:i.photoSizes;return a.createElement("div",{className:"lqzIz w"},n&&s?a.createElement(p,{sources:ee(s),width:"100%",height:"100%"},a.createElement(x,{isPremium:u(e),isStoryboardPublished:E(e),locationId:n,loggedInUserInfo:t})):a.createElement(V,null),l&&a.createElement("div",{className:"fNLmS Z1"},a.createElement(w,{variant:"sponsored"},a.createElement(r,{id:"discovery_sponsored_label"}))))},oe=()=>a.createElement("div",{className:"beAOc S2 H2 f Pc"},a.createElement("span",null,a.createElement(r,{id:"powered_by_eat_with"})),a.createElement("span",{className:"ctsVB Ma Nd MA NE"})),ce=({locationId:e})=>a.createElement(M,{onVisible:()=>{B({module:"restaurants_shelf_special_offer_ribbon",action:"impression",context:e.toString()})}},(e=>a.createElement("div",{ref:e,className:"bXGHW _Q Z1 S W q"},n("rs_special_offer_ribbon")&&a.createElement(O,{type:"secondary",constrainWidth:!1},a.createElement("span",{className:"fvvhL"},F("attractions.booking.flag.special_offer")))))),de=e=>a.createElement(D,{specialOfferLocationId:e.locationId},((t,r,l,n)=>t&&r&&!n?a.createElement(ce,{locationId:e.locationId}):null)),me=({location:e,uxHints:t,priceText:l,cuisines:i,promotionPercentage:s,isSponsoredPlacement:o,sponsoredInfo:c,loggedInUserInfo:d,marketingCampaignId:m,onClick:u,index:E})=>{var f=a.useContext(b),[{page:p,params:{geoId:g}}]=a.useContext(C),O=a.useContext(T),w=k(),{route:x,locationId:F,name:D,reviewSummary:M,placeType:B}=e,G=null==x?void 0:x.url,{fetchAll:U,restaurantsMap:V}=y(),{shouldAdsBeDisplayed:q}=L({geoId:g}),j=P(A);a.useEffect((()=>{q&&g&&U(g)}),[q,U,g]);var J=S({sponsoredInfo:c,locationId:F||0,page:p,detailPageUrl:G||"",securityToken:f.securityToken,interactionLogger:w,visitor:O,marketingCampaignId:m});if(!F||!G)return null;var K,{count:Q,rating:X}=M||{},$=null==t?void 0:t.includes("SHOW_COMMERCE_BUTTON"),ee=null==t?void 0:t.includes("SPECIAL_OFFERS_SHELF_ITEM"),te=null==t?void 0:t.includes("EAT_WITH_SHELF_ITEM"),ae=null==t?void 0:t.includes("DELIVERY_SHELF_ITEM"),re=null==t?void 0:t.includes("DINING_CLUB_SHELF_ITEM"),le=null==V?void 0:V.has(F),ne=(e,t=G)=>{e.stopPropagation(),e.preventDefault(),u&&u();var a=[];o&&a.push(J()),!ae&&le&&j({actionType:"click",actionSubType:"openDetails",itemType:"shelfCard",itemId:`${F}`,locationId:void 0,itemPosition:E}),Promise.all(a).then((()=>{window.location.href=t}))},ie=a.createElement("a",{onClick:ne,href:G,className:"bMXqX"},n("seo_h2_h3_tags")?a.createElement("h3",null,D):D);return a.createElement("div",{className:"bxfoZ Gi _Z"},!!s&&a.createElement(W,{promotionPercentage:s}),(n("rs_special_offer_ribbon")||n("rs_special_offer_ribbon_control"))&&a.createElement(Z,{locationId:F}),a.createElement("div",{className:"diGSD Z1"},a.createElement(h,{object:e},((e,t)=>a.createElement(_,{active:t,bookmarkStyle:"stacked",onClick:e})))),a.createElement(N,{sponsoredListingInfo:c,locationId:F,page:p,securityToken:f.securityToken},(t=>a.createElement("a",{ref:t,onClick:ne,href:G},a.createElement(z,{location:e,loggedInUserInfo:d,isSponsoredPlacement:o})))),a.createElement("div",{className:"gbprQ"},ie,!!((K=Q)&&K>0&&X&&"NEIGHBORHOOD_TIER_1"!==B)&&a.createElement("a",{onClick:e=>ne(e,`${G}#REVIEWS`),href:G},a.createElement(I,{numReviews:Q,rating:X,size:"small"})),a.createElement("div",{className:"VrsrG Ci S2 H2 f"},!(null==i||!i.length)&&a.createElement("span",{className:"ecRGO o W q"},i.join(", ")),!(null==i||!i.length)&&l&&a.createElement("span",{className:"eoksp"}),l&&a.createElement("span",{className:"fmSAt"},l)),($||ee||ae)&&a.createElement("a",{onClick:ne,href:G},a.createElement("div",{className:"eOAgm"},a.createElement(v,{legacyStyled:!0,variant:"commerce"},($||ee)&&a.createElement(r,{id:"gnavi_find_a_table"}),ae&&a.createElement(r,{id:"order_online"})))),te&&a.createElement(Y,null)),le&&!re&&a.createElement(a.Fragment,null,a.createElement(R,{index:E,itemType:"shelfCard",locationId:F}),a.createElement(H,{index:E,itemType:"shelfCard",locationId:F})))},ue=({trip:e,className:t,children:r})=>{var l;return a.createElement("a",{href:null==(l=e.route)?void 0:l.url,onClick:e=>{e.stopPropagation()},target:"_blank",className:t},r)},Ee=e=>{var t,{member:r,locations:n,taggedPoisLinkTo:i}=e,s="_blank",{localize:o}=l(),c=o.string("Featuring_n_eateries_plural",{0:"bold",1:(null==n?void 0:n.length)||""});return a.createElement(a.Fragment,null,((null==n?void 0:n.length)||0)>2&&a.createElement("a",{to:i,className:m("flCmf MC S2 o q W b"),target:s},a.createElement("span",{className:"eUTul"},a.createElement("span",{dangerouslySetInnerHTML:{__html:c}}))),a.createElement("div",{className:"NJnVc k"},a.createElement("a",{href:null==r||null==(t=r.route)?void 0:t.url,target:s},a.createElement("span",{className:"bVlcK"},a.createElement("span",{className:m("dikcT Nf S2 b o W q",{"fDJpZ PS":null==r?void 0:r.isVerified})},null==r?void 0:r.displayName)))))},fe=e=>({page:"Trips",tripId:e.id,tripTitle:"PUBLIC"===e.tripStatus?e.title:void 0}),pe=({trip:e})=>{var t=a.createElement(G,{trip:e,avatarSize:"medium"});return a.createElement("div",{className:"fRoMw e"},a.createElement("div",{className:"fSVfh Ps"},a.createElement(J,{trip:e},(e=>{var t,r=null==(t=e.photo)?void 0:t.photoSizes,l="100%";return r?a.createElement(p,{sources:ee(r),width:l,height:"150px"}):a.createElement("div",{className:"bNxaP u j V",style:{width:l,height:150}},a.createElement(g,{name:"suitcase"}))})(e)),a.createElement("div",{className:"beqNY s"},t)),a.createElement("div",{className:"bgrqo"},a.createElement(J,{trip:e},a.createElement("div",{className:"RCwcj b o"},e.title)),a.createElement(K,{member:e.owner,locations:e.orderedLocations,taggedPoisLinkTo:fe(e)})))},ge=(e,t,a)=>{if(t&&a){var{restaurantsRequestGuid:r,sponsoredSlotName:l}=t,{tripAdsId:n,tripAdsRequestGuid:i,tripAdsPayloadToken:s,slLineItemId:o}=a;if(r&&l&&n&&i&&s&&o)return{locationId:e||0,adReqUniqueId:r,sponsoredSlot:l,tripAdsId:n,tripAdsGuid:i,tripAdsPayloadToken:s,slLineItem:o,locationListIndex:0}}return null},Ie=({item:e,shelfItemKey:t,fetchedLoggedInUserInfo:r,filterListType:l,sponsoredPlacementData:n,marketingCampaignId:i,onClick:s,index:o})=>{var c,d,{object:p,id:g,tripAdData:I}=e;if(!p||!p.__typename)return null;switch(p.__typename){case"LocationInformation":d="finCK",c=a.createElement(j,{location:p,uxHints:e.restaurantItemUxHints,priceText:e.priceText,cuisines:e.cuisines,promotionPercentage:e.promotionPercentage,isSponsoredPlacement:null!=I,sponsoredInfo:ge(p.locationId,n,I),loggedInUserInfo:f({ownerInformation:r,locationId:p.locationId,isPremium:u(p),isStoryboardPublished:E(p),firstStoryboardLocationIdNotOwnedByCurrentUser:null}),marketingCampaignId:i,onClick:s,index:o});break;case"Trip":d="enozT",c=a.createElement(Q,{trip:p});break;case"LocationFilterShelf":d="bXDca",c=a.createElement(q,{filterItem:p,uxHints:e.restaurantItemUxHints,id:g,filterListType:l});break;default:return p.__typename,null}return a.createElement("div",{key:t,className:m("bwINr H I",d)},c)};return[()=>{U=o((e=>({filters:i(e).filters})),{toggleSelectFilter:s.toggleSelectFilter,toggleExpandFilterCategoryModal:s.toggleExpandFilterCategoryModal,setCoverpageClick:s.setCoverpageClick})(re),V=le,q=o((e=>({filters:i(e).filters})),{toggleSelectFilter:s.toggleSelectFilter,setCoverpageClick:s.setCoverpageClick})(ne),W=ie,z=se,Y=oe,Z=de,j=me,J=ue,K=Ee,Q=pe,e({ShelfHeader:U,ShelfItem:Ie})},[e=>a=e,e=>(r=e.default,l=e.useLocalize),e=>n=e.featureIsEnabled,e=>(i=e.getState,s=e.ACTIONS),e=>o=e.connect,e=>(c=e.Identifiers,d=e.DealsAndReservationIds),e=>m=e.default,e=>(u=e.isPremium,E=e.isStoryboardPublished,f=e.getLoggedInUserInfo),e=>p=e.ResponsiveImage,e=>g=e.default,e=>I=e.BubbleRatingWithReviewCount,e=>v=e.default,e=>_=e.BookmarkIcon,e=>h=e.QueriedTripFlowSelector,e=>(S=e.useSponsoredClickTracker,N=e.SponsoredImpressionTracker),e=>(b=e.Device,C=e.Route,T=e.Visitor),e=>k=e.useInteractionLogger,e=>y=e.default,e=>L=e.useDiningClubTest,e=>P=e.useDynamicPageInteractionLogger,e=>(A=e.loggerParams,R=e.DiningClubBadge,H=e.DiningClubBeacon),e=>O=e.default,e=>w=e.default,e=>x=e.default,e=>F=e.localize,e=>D=e.SpecialOfferProvider,e=>M=e.HasBeenVisible,e=>B=e.default,e=>G=e.default]]},["cDcdfi","0DsHEV","-i3PJS","s5YNLl","h74DsO","e2yawP","jSLlaY","47taKH","KwOV1Z","pyY-iJ","MBK0so","7yGKf-","vF730k","HZtvHO","oQu7mj","2R4xv2","fsml46","lOKOGh","1GkG4X","qEkOmT","JkCTHu","50bfRq","DCBGY9","3VeG0L","535agn","GnBs-1","BLrxBS","Jk5sjx","mbrTCV"]]);
