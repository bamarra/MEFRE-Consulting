(this.$WP=this.$WP||[]).push(["LGU7YR",(e,n)=>{"use strict";var t,i,a,r,o,s,l,u,d,c,m,v,f,p,g,w,S,y,_,k,C,O,b,h,N,R,E,M,I,F,T,P,A=function(){return window[window._fs_namespace]},q=function(){if(!A())throw Error("FullStory is not loaded, please ensure the init function is invoked before calling FullStory API functions")},B=function(){q();for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.every((function(e){return A()[e]}))},D=function(e){return function(){var n;return B(e)?(n=A())[e].apply(n,arguments):("FS.".concat(e," not ready"),null)}},x=function(e){A()||(e.recordCrossDomainIFrames&&(window._fs_run_in_iframe=!0),e.recordOnlyThisIFrame&&(window._fs_is_outer_script=!0),function(e){var n,t,i,a,r,o,s,l,u=e.orgId,d=e.namespace,c=void 0===d?"FS":d,m=e.debug,v=void 0!==m&&m,f=e.host,p=void 0===f?"fullstory.com":f,g=e.script,w=void 0===g?"edge.fullstory.com/s/fs.js":g;if(!u)throw new Error("FullStory orgId is a required parameter");window._fs_debug=v,window._fs_host=p,window._fs_script=w,window._fs_org=u,window._fs_namespace=c,n=window,t=document,i=window._fs_namespace,a="script",r="user",i in n?n.console&&n.console.log&&n.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].'):((s=n[i]=function(e,n,t){s.q?s.q.push([e,n,t]):s._api(e,n,t)}).q=[],(o=t.createElement(a)).async=1,o.crossOrigin="anonymous",o.src="https://"+_fs_script,(l=t.getElementsByTagName(a)[0]).parentNode.insertBefore(o,l),s.identify=function(e,n,t){s(r,{uid:e},t),n&&s(r,n,t)},s.setUserVars=function(e,n){s(r,e,n)},s.event=function(e,n,t){s("event",{n:e,p:n},t)},s.anonymize=function(){s.identify(!1)},s.shutdown=function(){s("rec",!1)},s.restart=function(){s("rec",!0)},s.log=function(e,n){s("log",[e,n])},s.consent=function(e){s("consent",!arguments.length||e)},s.identifyAccount=function(e,n){o="account",(n=n||{}).acctId=e,s(o,n)},s.clearUserCookie=function(){},s._w={},l="XMLHttpRequest",s._w[l]=n[l],l="fetch",s._w[l]=n[l],n[l]&&(n[l]=function(){return s._w[l].apply(this,arguments)}),s._v="1.2.0")}(e))},H=e=>{var n,t,[o,s]=i({isEnabled:!1}),l=a(u),d=(null==l||null==(n=l[0])||null==(t=n.params)?void 0:t.detailId)||0,c=v(d,e);return r((()=>{switch(e){case"OwnerResponse":case"RMReviewCollection":case"OwnerNotificationSetting":case"RMHome":case"ReputationManagement":s(c);break;default:s({isEnabled:!1})}}),[c,e]),o},L=(e,n)=>{e?S(e,n):S(!1)},W=(e,n,t,i)=>l("t4b_management_center_full_story")&&(!i||!1)&&"IOS"!==n&&E.has(e)&&(N.has(e)||h||t),z=({page:e})=>{var[n,t]=i(!1),{domainName:o}=a(d),l=!!o.startsWith("hare.tripadvisor"),u=l?"NP4A5":"MXZMP",{family:v}=a(c).os,{userId:f}=a(m),p=b(e);r((()=>{var{isEnabled:i}=p;return W(e,v,i,l)?(n||((e=>{k({orgId:e})})(u),t(!0)),n&&_(),()=>{n&&y()}):(n&&y(),()=>{n&&y()})}),[e,v,u,p,n,l]);var[{fetching:g,data:w,error:S}]=s({query:O,variables:{limit:100},pause:!f});return r((()=>{var{isEnabled:t,attributes:i}=p;if(n&&W(e,v,t,l))if(f&&!S){if(!g){var a=((e,n)=>{var t=0,i=!1,a=!1,r="",o=0,s=0,l=new Set;((null==e?void 0:e.allOwnerStatuses)||[]).forEach((e=>{var n=null==e?void 0:e.location;if(n)if(t++,"ACCOMMODATION"===n.placeType){var u,d,c;i=!0;var m=null==(u=n.detail)||null==(d=u.hotel)||null==(c=d.details)?void 0:c.numRooms,v=n.accommodationType;null!=m&&m>=0&&(o++,s+=m),v&&(l.add(v),r=v)}else"EATERY"===n.placeType&&(a=!0)}));var u=o>0?Number((s/o).toFixed(2)):0,d={};return n&&n.forEach((e=>{d[e.name]=e.value})),{isHotelOwner:i,isRestaurantOwner:a,accommodationType:l.size>1?"multiple":r,averageRoomCount:u,verifiedOwnedPropertyCount:t,isUserInSampleGroup:h,...d}})(w,i);L(f,a)}}else L(f)}),[e,v,g,w,S,f,p,n,l]),null},U=({children:e})=>t.createElement("div",{"data-fs-block":"true"},e),V=()=>{var[e,n]=t.useState(!1);return t.useEffect((()=>{var e,t=f((t=>{null!=t?n(!0):e=requestIdleCallback((()=>n(!0)))}));return()=>{e&&cancelIdleCallback(e),t&&p(t)}}),[]),e},G=(e,n)=>{e?S(e,n):S(!1)},X=({enabledBootstrap:e,children:n})=>{var[v,f]=i(!1),p=o(!1),{domainName:S}=a(d),C=!!S.startsWith("hare.tripadvisor"),b=C?"NP4A5":"MXZMP",{os:{family:h}}=a(c),{userId:N}=a(m),[{page:R}]=t.useContext(u),[E,M]=i({}),A=F(),q=g(w.PERFORMANCE),B=((e,n,t,i,a,r)=>l("t4b_management_center_full_story")&&(!i||!1)&&"IOS"!==n&&a&&r&&(t||"ALLOWED"===e||"ALLOWED_BUT_SAMPLED"===e&&P))(e,h,E[R]||!1,C,A,q),[D,x]=t.useState(Object.freeze({}));r((()=>()=>{p.current&&(y(),p.current=!1)}),[]),r((()=>{B&&!v&&((e=>{k({orgId:e})})(b),_(),f(!0),p.current=!0)}),[B,b,v]);var[{fetching:H,data:L,error:W}]=s({query:O,variables:{limit:100},pause:!(B&&v&&N)});r((()=>{if(B&&v&&p.current)if(N&&!W){if(!H){var e=(e=>{var n=0,t=!1,i=!1,a="",r=0,o=0,s=new Set;((null==e?void 0:e.allOwnerStatuses)||[]).forEach((e=>{var l=null==e?void 0:e.location;if(l)if(n++,"ACCOMMODATION"===l.placeType){var u,d,c;t=!0;var m=null==(u=l.detail)||null==(d=u.hotel)||null==(c=d.details)?void 0:c.numRooms,v=l.accommodationType;null!=m&&m>=0&&(r++,o+=m),v&&(s.add(v),a=v)}else"EATERY"===l.placeType&&(i=!0)}));var l=r>0?Number((o/r).toFixed(2)):0;return{isHotelOwner:t,isRestaurantOwner:i,accommodationType:s.size>1?"multiple":a,averageRoomCount:l,verifiedOwnedPropertyCount:n,isUserInSampleGroup:P}})(L);G(N,{...e})}}else G(N)}),[B,v,H,L,W,N]),r((()=>{B&&v&&p.current&&(N?G(N,{...D}):G(N))}),[B,v,N,D]);var z=t.useMemo((()=>({overrideToEnabledForPage:e=>{M((n=>({...n,[e]:!0})))},setCustomAttributes:e=>{B&&x((n=>({...n,...e})))}})),[x,M,B]),U=B&&v?n:t.createElement(I,null,n);return t.createElement(T.Provider,{value:z},U)};return[()=>{var n;S=D("identify"),y=D("shutdown"),_=D("restart"),n=x,k=function(){window._fs_initialized||(n.apply(void 0,arguments),window._fs_initialized=!0)},(C=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"OwnerProperties"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"limit"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"allOwnerStatuses"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"verifiedOnly"},"value":{"kind":"BooleanValue","value":true}},{"kind":"Argument","name":{"kind":"Name","value":"limit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"limit"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"location"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"placeType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"accommodationType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"detail"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Hotel"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"hotel"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"details"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"numRooms"},"arguments":[],"directives":[]}]}}]}}]}}]}}]}}]}}]}}],"loc":{"start":0,"end":331}}')).__key=24404188814980,O=C,b=H,h=l("t4b_management_center_full_story_sampled"),N=new Set(["AdsManager","CampaignConfiguration","CampaignManagement","ConnectivityPartnerInfo","Covid19Response","HotelsProductCart","TripConnectPaymentForm","Starter_Packages","ReputationManagement","BICompetitorSet","PlusManagement"]),R=new Set(["AnalyticsSuite","BrandOwners","CertificateOfExcellenceRequestSupport","FavoriteReviewManagement","GuestExperience","HotelsManageListing","HotelsManagementCenter","SafetyManagementCenter","InstantBookingManagement","InstantBookingSignup","ManagePhotos","MediaBadgeResponse","MultiOwners","OwnerResponse","RMReviewCollection","OwnerNotificationSetting","RMHome","OwnerSupport","Owners","ProductError","RestaurantAdsManager","RestaurantProductCart","ReviewExpress","SpecialOfferManagement","StickerRequest","Widgets"]),E=new Set([...N,...R]),M=z,I=U,F=V,T=t.createContext({overrideToEnabledForPage:()=>{},setCustomAttributes:()=>{}}),P=l("t4b_management_center_full_story_sampled"),e({FullStoryContext:T,FullStoryProvider:X,FullStorySessionRecorder:M,SensitiveInformationBlocker:I})},[e=>(t=e,i=e.useState,a=e.useContext,r=e.useEffect,o=e.useRef),e=>s=e.useQuery,e=>l=e.featureIsEnabled,e=>(u=e.Route,d=e.Environment,c=e.Device,m=e.Visitor),e=>v=e.useHrmFullStoryAttributes,e=>(f=e.requestTTICallback,p=e.cancelTTICallback),e=>(g=e.useConsent,w=e.CategoriesEnum)]]},["cDcdfi","5X2em-","-i3PJS","2R4xv2","iZ1Bsx","6NeHQy","lMO0v3"]]);
