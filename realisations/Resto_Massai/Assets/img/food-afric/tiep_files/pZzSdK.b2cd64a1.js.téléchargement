(this.$WP=this.$WP||[]).push(["pZzSdK",(e,n)=>{"use strict";var a,t,r,i,l,s,c,o,d,u,m,k,v,C,p,h,f,g,b,w,I,T,E,x,y,S,R,D,N,F,M,H,O,U,L,P,j,V,A,q="interactionData",$=e=>{var n=l.get(q);n&&(e({interactions:n,clientRequestTimestamp:(new Date).getTime()}),l.remove(q))},_=(e,n,a)=>{(e=>{var n=l.get(q);n||(n=[]);var a={eventTimestampMsClient:(new Date).getTime(),interaction:e};n.push(a),l.set(q,n)})(n),(e=>{if(!e)return!1;var{target:n,currentTarget:a}=e;if(n&&a&&n instanceof HTMLElement){var t=n,r=!1;do{if(t instanceof HTMLElement&&t.dataset.encodedUrl){var l=i(t.dataset.encodedUrl),s=document.createElement("a");s.href=l,t.parentElement instanceof HTMLElement&&(s.style.display="none",t.parentElement.appendChild(s)),t=s}if(t instanceof HTMLAnchorElement){var c=t;if(window&&window.location&&window.location.hostname&&window.location.hostname===c.hostname)return!0}r=t===a||r,t=t.parentElement}while(t&&!r)}return!1})(e)||$(a)},B=({interactionMutationFunction:e,props:n,namespace:t})=>{var{children:r}=n,i=a.useContext(w),l=a.useRef(i),s=a.useRef([]),c=a.useCallback(((e,n,a)=>{s.current.push({event:e,interactionType:n,additionalVariables:a})}),[]),o=a.useCallback(((n,a,r,i)=>{var l=r||{},s={};s[a]={...l,impressionKey:i};var c={};c[t]=s,_(n,c,e)}),[e,t]);return a.useEffect((()=>{if(s.current.length>0&&l.current!==i){var e=l.current;s.current.forEach((({event:n,interactionType:a,additionalVariables:t})=>{o(n,a,t,e)})),s.current=[],l.current=i}}),[i,o]),r(c)},W=e=>{var n=r(x),{isBoosted:t,itemType:i,itemId:l}=a.useContext(s);return a.useEffect((()=>{e.isReadonlyMode||$(n)})),e.isReadonlyMode?e.children((()=>{})):t?((e,n,a,t)=>{var{children:r}=n;return r(((n,r,i)=>{var l=i||{},s={};switch(r){case"overflowMenuClick":case"linkClicked":s[r]={itemType:a,itemId:t};break;case"linkedPoiClick":s[r]={itemType:a,itemId:t,placement:"HEADER"},Object.assign(s[r],l);break;case"follow":case"unfollow":case"userClick":case"save":s[r]={itemType:a,itemId:t},Object.assign(s[r],l);break;default:var c=r||"undefined";console.error(`Unknown boost interaction type: ${c}`),s[r]={itemType:a,itemId:t},Object.assign(s[r],l)}_(n,{boost:s},e)}))})(n,e,i||"",l||""):a.createElement(k.Consumer,null,(t=>"mixer"===t?((e,n)=>{var{children:t}=n;return a.createElement(d.Consumer,null,(n=>a.createElement(u.Consumer,null,(r=>a.createElement(m.Consumer,null,(a=>t(((t,i,l)=>{var s=l||{},c={};switch(i){case"delete":case"linkedPoiScroll":case"overflowMenuClick":case"report":case"seeAll":case"shelfScroll":case"untag":case"untagConfirm":case"untagCancel":c[i]={feedSectionId:r};break;case"linkedPhotoClick":c[i]={feedSectionId:r},Object.assign(c[i],s);break;case"linkedPoiClick":c[i]={feedSectionId:r,placement:"HEADER"},Object.assign(c[i],s);break;case"feedClick":case"helpful":case"repost":case"share":case"unhelpful":case"follow":case"unfollow":case"userClick":case"save":case"trip_save":case"dismiss":case"userReferenceClick":case"linkReferenceClick":case"linkedSnippetClick":case"batchGalleryClick":case"batchGalleryScroll":c[i]={feedSectionId:r,itemId:a.itemId},Object.assign(c[i],s);break;case"showMore":c[i]={mixerImpressionId:n},Object.assign(c[i],s);break;default:var o=i||"undefined";console.error(`Unknown mixer interaction type: ${o}`)}_(t,{mixer:c},e)}))))))))})(n,e):"home"===t?((e,n)=>{var{children:t}=n;return a.createElement(v.Consumer,null,(n=>a.createElement(f.Consumer,null,(a=>t(((t,r,i)=>{var l=i||{},s={};s["unfollow"===r?"unFollow":r]={...n,...l,...a},_(t,{home:s},e)}))))))})(n,e):"profile"===t?((e,n)=>{var{children:t}=n;return a.createElement(C.Consumer,null,(n=>a.createElement(f.Consumer,null,(a=>t(((t,r,i)=>{var l=i||{},s={};s["unfollow"===r?"unFollow":r]={...n,...l,...a},_(t,{profile:s},e)}))))))})(n,e):"onboarding"===t?((e,n)=>{var{children:t}=n;return a.createElement(g.Consumer,null,(n=>t(((a,t,r)=>{var i=r||{},l={};l[t]={...i,...n},_(a,{onboarding:l},e)}))))})(n,e):"inbox"===t?((e,n)=>{var{children:t}=n;return a.createElement(T.Consumer,null,(n=>t(((a,t,r)=>{var i=r||{},l={};switch(t){case"follow":case"unfollow":l[t]={},Object.assign(l[t],i),Object.assign(l[t],n);break;default:var s=t||"undefined";console.error(`Unknown or not set up inbox interactionType: ${s}`)}_(a,{inbox:l},e)}))))})(n,e):"search"===t?((e,n)=>{var{children:t}=n;return a.createElement(p.Consumer,null,(n=>t(((a,t,r)=>{var i=r||{},l={};switch(t){case"follow":case"unfollow":l[t]={},Object.assign(l[t],i),Object.assign(l[t],n);break;default:var s=t||"undefined";console.error(`Unknown or not set up search interactionType: ${s}`)}_(a,{search:l},e)}))))})(n,e):"ugcDetail"===t?((e,n)=>{var{children:t,loggedInUserId:r}=n;return a.createElement(h.Consumer,null,(n=>t(((a,t,i)=>{var l=i||{},s=r?{actorUserId:r}:{},c={};c["feedClick"===t?"ugcClick":t]={...n,...l,...s},_(a,{ugcDetail:c},e)}))))})(n,e):"hotelReviewServlet"===t?((e,n,t)=>{var{children:r}=n;return a.createElement(b.Consumer,null,(n=>r(((a,r,i)=>{var l=i||{},s={};s[r]={...l,...n};var c={};c[t]=s,_(a,c,e)}))))})(n,e,t):"hotels"===t||"smartDeals"===t||"hotelHighlight"===t||"hotelsNear"===t||"hotelsList"===t||"lastMinute"===t?a.createElement(B,{interactionMutationFunction:n,props:e,namespace:t}):"flightsResults"===t?((e,n,t)=>{var{children:r}=n;return a.createElement(N.Consumer,null,(n=>a.createElement(F.Consumer,null,(i=>a.createElement(M.Consumer,null,(a=>r(((r,l,s)=>{var c=s||{},o={};switch(l){case"filter":o[l]={...c,...n};break;case"clearAllFilters":case"sortDropdown":case"removeFilter":case"newSortResults":case"filterHamburger":case"sort":o[l]={...c,...n};break;case"staticPhotoClick":o[l]={...c,searchId:(null==n?void 0:n.searchId)||""};break;case"firstClick":case"viewDealClick":case"viewDealPersistClick":case"viewDealFATableClick":case"viewDealRightRail":case"secondClickBreadCrumb":case"secondClickTabDetails":case"secondClickTabReviews":case"seatMapClick":case"airlineReviewExpand":case"airlineReviewClick":case"viewDealsExpand":case"amenitiesHover":case"segmentFilter":case"flyScoreHover":case"brandedFareHover":case"selfTransferHover":case"comboFareHover":o[l]={...c,...i,...n};break;case"savingsTipClick":case"savingsTipExpand":o[l]={...c,...a,searchId:(null==n?void 0:n.searchId)||""};break;default:var d=l||"undefined";console.error(`Unknown or not set up search interactionType: ${d}`)}var u={};u[t]=o,_(r,u,e)}))))))))})(n,e,t):"flights"===t?((e,n,t)=>{var{children:r}=n;return a.createElement(H.Consumer,null,(n=>a.createElement(F.Consumer,null,(i=>a.createElement(R.Consumer,null,(l=>a.createElement(D.Consumer,null,(s=>a.createElement(O.Consumer,null,(a=>r(((r,c,o)=>{var d=o||{},u={};switch(c){case"fareCardClick":u[c]={...d,...i};break;case"crossSiteClick":u[c]={...d,...n};break;case"googleOneTapClick":u[c]={...d,...a};break;case"cosChange":case"passengerNumberChange":case"childAgeChange":case"airportTypeaheadSelection":case"itineraryTypeTabChange":case"datepickerInteraction":case"checkNonstop":case"checkNearby":case"checkSubscription":case"stickyShown":case"findFlightsClick":u[c]={...d,...s};break;case"attractionsShelfSeeAllClick":case"attractionsShelfItemClick":case"attractionsShelfScroll":u[c]={...l,...d};break;default:var m=c||"undefined";console.error(`Unknown or not set up search interactionType: ${m}`)}var k={};k[t]=u,_(r,k,e)}))))))))))))})(n,e,t):"globalNav"===t?((e,n)=>{var{children:t}=n;return a.createElement(y.Consumer,null,(n=>t(((a,t,r)=>{var i=r||{},l={};l[t]={...i,...n},_(a,{globalNav:l},e)}))))})(n,e):"contentUploader"===t?((e,n)=>{var{children:t}=n;return a.createElement(S.Consumer,null,(n=>t(((a,t,r)=>{var i=r||{},l={};l[t]={...i,...n},_(a,{contentUploader:l},e)}))))})(n,e):"ownerNewsFeed"===t?((e,n)=>{var{children:t}=n;return a.createElement(d.Consumer,null,(n=>a.createElement(u.Consumer,null,(r=>a.createElement(m.Consumer,null,(a=>t(((t,i,l)=>{var s=l||{},c={};switch(i){case"feedClick":case"howToRespondClick":case"makeFavoriteReviewClick":case"reportReviewClick":case"respondDirectMessageClick":case"respondReviewClick":c[i]={feedSectionId:r,itemId:a.itemId},Object.assign(c[i],s);break;case"listingPerformanceClick":case"adsPerformanceClick":c[i]={feedSectionId:r},Object.assign(c[i],s);break;case"ownersClick":case"managePhotosClick":case"restaurantReviewClick":case"managementCenterClick":case"adsManagerClick":c[i]={},Object.assign(c[i],s);break;case"showMore":c[i]={mixerImpressionId:n},Object.assign(c[i],s);break;default:console.error(`Unknown ownerNewsFeed interaction type: ${i}`)}_(t,{ownerNewsFeed:c},e)}))))))))})(n,e):"restaurants"===t?((e,n,t)=>{var{children:r}=n;return a.createElement(I.Consumer,null,(n=>r(((a,r,i)=>{var l=i||{},s={};s[r]={...l,...n};var c={};c[t]=s,_(a,c,e)}))))})(n,e,t):e.children((()=>{}))))},G="interactionDataV2",J=e=>{var n=l.get(G);n&&e({request:{clientRequestTimestampMs:Date.now(),request:n}}).finally((()=>{l.remove(G)}))},K=e=>{var n=r(j),[,{uid:t}]=a.useContext(c),{userId:s,sessionId:d}=a.useContext(o);return a.useEffect((()=>{e.isReadonlyMode||J(n)}),[n,e]),e.isReadonlyMode?e.children((()=>{})):a.createElement(k.Consumer,null,(r=>"flightsResults"===r?((e,n,t,r,s)=>{var{children:c}=n;return a.createElement(N.Consumer,null,(n=>a.createElement(F.Consumer,null,(o=>a.createElement(M.Consumer,null,(a=>c(((c,d,u)=>{var m=u||{},k={};switch(d){case"filter":k[d]={...m,...n};break;case"clearAllFilters":case"sortDropdown":case"removeFilter":case"newSortResults":case"filterHamburger":case"sort":k[d]={...m,...n};break;case"staticPhotoClick":k[d]={...m,searchId:(null==n?void 0:n.searchId)||""};break;case"firstClick":case"viewDealClick":case"viewDealPersistClick":case"viewDealFATableClick":case"viewDealRightRail":case"secondClickBreadCrumb":case"secondClickTabDetails":case"secondClickTabReviews":case"seatMapClick":case"airlineReviewExpand":case"airlineReviewClick":case"viewDealsExpand":case"amenitiesHover":case"segmentFilter":case"flyScoreHover":case"brandedFareHover":case"selfTransferHover":case"comboFareHover":k[d]={...m,...o,...n};break;case"savingsTipClick":case"savingsTipExpand":k[d]={...m,...a,searchId:(null==n?void 0:n.searchId)||""};break;default:var v=d||"undefined";console.error(`Unknown or not set up search interactionType: ${v}`)}((e,n,a,t,r,s)=>{((e,n,a,t)=>{var r=l.get(G);r||(r=[]);var i={pageUid:n,eventTimestampMs:Date.now(),...e},s=[];a&&s.push({key:"user_id",value:a}),t&&s.push({key:"session_id",value:t}),0!==s.length&&(i={opaqueIds:s,...i}),r.push(i),l.set(G,r)})(n,t,r,s),(e=>{if(!e)return!1;var{target:n,currentTarget:a}=e;if(n&&a&&n instanceof HTMLElement){var t=n,r=!1;do{if(t instanceof HTMLElement&&t.dataset.encodedUrl){var l=i(t.dataset.encodedUrl),s=document.createElement("a");s.href=l,t.parentElement instanceof HTMLElement&&(s.style.display="none",t.parentElement.appendChild(s)),t=s}if(t instanceof HTMLAnchorElement){var c=t;if(window&&window.location&&window.location.hostname&&window.location.hostname===c.hostname)return!0}r=t===a||r,t=t.parentElement}while(t&&!r)}return!1})(e)||J(a)})(c,{FlightsResults:{...k}},e,t,r,s)}))))))))})(n,e,t,s,d):e.children((()=>{}))))},z=({children:e})=>a.createElement(L,null,(n=>e(((e,a)=>{n(e,a)})))),Z=({children:e})=>a.createElement(k.Provider,{value:"flights"},a.createElement(L,null,(n=>e(((e,a,t,r,i)=>{n(e,a,{fareCardImpressionId:t,pageviewId:r,sessionId:i})})))));return[()=>{d=a.createContext(null),u=a.createContext(null),m=a.createContext({itemId:""}),k=a.createContext(null),v=a.createContext(null),C=a.createContext(null),p=a.createContext(null),h=a.createContext(null),f=a.createContext(null),g=a.createContext(null),b=a.createContext(null),w=a.createContext(null),I=a.createContext(null),T=a.createContext(null),(E=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogInteractions"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"interactions"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NamedType","name":{"kind":"Name","value":"InteractionWithTimestampInput"}}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"clientRequestTimestamp"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Long"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"logInteractions"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"interactions"},"value":{"kind":"Variable","name":{"kind":"Name","value":"interactions"}}},{"kind":"Argument","name":{"kind":"Name","value":"clientRequestTimestamp"},"value":{"kind":"Variable","name":{"kind":"Name","value":"clientRequestTimestamp"}}}],"directives":[]}]}}],"loc":{"start":0,"end":219}}')).__key=0x70febba5d999,x=E,y=a.createContext(null),S=a.createContext(null),R=a.createContext(null),D=a.createContext(null),N=a.createContext(null),F=a.createContext(null),M=a.createContext(null),H=a.createContext(null),O=a.createContext(null),U=t((e=>({loggedInUserId:e.auth.loggedInUserId,isReadonlyMode:e.meta.readonlyMode})))(W),L=U,(P=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogInteractionsV2"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"request"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Impressions_InteractionsRequestInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"Impressions_postInteractionsV2"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"Variable","name":{"kind":"Name","value":"request"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"response"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":159}}')).__key=0xb17fed6c3073,j=P,V=t((e=>({loggedInUserId:e.auth.loggedInUserId,isReadonlyMode:e.meta.readonlyMode})))(K),A=V,e({CrossSiteClickContext:H,CrossSiteClickInteractionLogger:z,FareCardInteractionLogger:Z,FeedSectionIdContext:u,FlightsGoogleOneTapClickContext:O,FlightsSearchResultsContext:N,FollowPlacementContext:a.createContext(null),FollowTabTypeContext:a.createContext(null),HomeTrackingContext:v,InboxTrackingContext:T,InteractionLogger:L,InteractionLoggerV2:A,ItemIdContext:m,ItineraryContext:F,ListPageTrackingContext:w,ProfileTrackingContext:C,RecommendedFolloweesImpressionIdContext:f,SavingsTipsContext:M,SearchTrackingContext:p,TrackingNamespaceContext:k,UgcDetailTrackingContext:h})},[e=>a=e,e=>t=e.connect,e=>r=e.useStatelessMutation,e=>i=e.default,e=>l=e.default,e=>s=e.default,e=>(c=e.Route,o=e.Visitor)]]},["cDcdfi","h74DsO","OnmvvE","dROhDJ","jaCyxS","6KWcSB","2R4xv2"]]);
