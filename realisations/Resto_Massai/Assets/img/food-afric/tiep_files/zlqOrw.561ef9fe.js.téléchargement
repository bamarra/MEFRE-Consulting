(this.$WP=this.$WP||[]).push(["zlqOrw",(e,t)=>{"use strict";var a,o,l,i,s,r,n,c,m,d,p,v,k,u,_,b,E,S,C,w,y,h,g,f,N=e=>e?e.split(",").map((e=>parseInt(e,10))).filter((e=>!isNaN(e))).sort():[],M=(e,t=(new Date).getTime(),a=(new Date).getTime()-C,o=10)=>{var l=N(n.get(e));l.push(t),l=l.filter((e=>e>=a)),n.set(e,l.slice(Math.max(0,l.length-o)).join(","))},P=(e,t)=>((e,t)=>N(n.get(e)).filter((e=>e>=t)))(e,t).length,z=({active:e,onClick:t,bookmarkSize:o,animated:l})=>a.createElement(r,{active:e,onClick:t,bookmarkSize:o,bookmarkStyle:"outline",decorated:!1,animated:l},(e=>a.createElement("span",{className:"kQgPG S5 H4 n"},e))),j=(e,t,o,l,i)=>{var n=t;switch(s("saves_hotspot_button")&&(n=()=>{var e=(new Date).getTime();M("saves_click_time_series",e,e-S,3),t()}),o){case"listing":return a.createElement(r,{active:e,onClick:n,bookmarkStyle:"stacked",bookmarkSize:"30"});case"responsive_review":case"forum_post":return"DESKTOP"===l?a.createElement(w,{active:e,onClick:n,bookmarkSize:"20"}):a.createElement(r,{active:e,onClick:n,bookmarkStyle:"outline",bookmarkSize:"24"});case"responsive_review_hotspot":return"DESKTOP"===l?a.createElement(w,{active:e,onClick:n,bookmarkSize:"20",animated:i}):a.createElement(r,{active:e,onClick:n,bookmarkStyle:"outline",bookmarkSize:"24",animated:i});case"mobile_review":return a.createElement(r,{active:e,onClick:n,bookmarkStyle:"outline",bookmarkSize:"24"});case"mobile_restaurant_review":return a.createElement(r,{active:e,onClick:n,vertical:!0,bookmarkStyle:"outline",bookmarkSize:"22",decorated:!1},(e=>a.createElement("span",{className:"dstkb S2 H2 n"},e)));case"mobile_attraction_product_detail":return a.createElement(r,{active:e,onClick:n,bookmarkStyle:"stacked",bookmarkSize:"24"});default:return null}},D=({toastContent:e,durationMs:t,active:o,onClick:l})=>{var[i,s]=a.useState(!1),[n,c]=a.useContext(k);a.useEffect((()=>{v("reg_dialog").on("all_dismissed",(()=>s(!0)))}),[]);var p=a.useCallback((()=>{d({module:"saves_tooltip",action:"saves_tooltip_close"}),s(!1)}),[]),_=a.useCallback((()=>{d({module:"saves_tooltip",action:"saves_tooltip_displayed"}),M("saves_poptoast_trigger_time_series")}),[]),b=a.createElement("div",{className:"btcsk"},a.createElement("div",{className:"bZcuu R2"},a.createElement("div",{className:"dARRa S4 V"},a.createElement("div",{className:"cihhq Fe"},e)),a.createElement("div",{className:"HbjEw _S S4 q"},a.createElement("span",{className:"eYfKG"},a.createElement(u,{colorVariant:"TA_GRAY_3",onClick:()=>{c(),p()}})))));return a.createElement(a.Fragment,null,i&&a.createElement(m,{trigger:()=>{n({node:b,timeout:t}).then((()=>{p()})),_()},interval:2e3}),a.createElement("div",{className:"cFHHX _T"},a.createElement(r,{active:o,onClick:l,bookmarkStyle:"outline",bookmarkSize:"24",animated:!0})))},O="saves_tooltip_trigger_time_series",T="saves_click_time_series",x=({object:e,widgetStyle:t,viewportCategory:o,tooltipCopy:i,toastCopy:s,toastCopySubhead:m,allowPopStatModal:d})=>"MOBILE"===o&&s&&m?a.createElement(l,{object:e,allowPopStatModal:d},((e,l)=>{var i,n=!l&&(i=Date.now(),0===P("saves_poptoast_trigger_time_series",i-b)&&0===P(T,i-S)),d=()=>{n=!1,e()};return n?a.createElement(h,{active:l,onClick:d,toastContent:a.createElement("div",{className:"cFemZ f e j"},a.createElement("span",{className:"eKnZZ"},a.createElement("span",{className:"ecyPY"},a.createElement(r,{bookmarkStyle:"flat",active:!0,decorated:!1,bookmarkSize:"30"})),a.createElement("span",{className:"fMVXe"},c(s))),c(m)),durationMs:8e3}):y(l,d,t,o)})):"MOBILE"!==o&&i?a.createElement(l,{object:e,allowPopStatModal:d},((e,l)=>{var s,r=!l&&(s=Date.now(),!(parseInt(n.get("dtSoftPromptSuppressed"),10)>=s-2592e5)&&0===P(O,s-864e5)&&P(O,s-b)<2&&P(O,s-E)<4&&0===P(T,s-S)),m=()=>{r=!1,e()};return r?a.createElement("div",null,a.createElement(_,{tooltipContent:a.createElement("div",{className:"cbQZy S4 H3"},c(i))}),y(l,m,t,o,r)):a.createElement("div",null,y(l,m,t,o))})):a.createElement(l,{object:e,allowPopStatModal:d},((e,a)=>y(a,e,t,o))),W=({object:e,widgetStyle:t,tooltipCopy:o,toastCopy:s,toastCopySubhead:r,viewportCategory:n,allowPopStatModal:c,isNativeWebview:m})=>{switch(t){case"responsive_review_hotspot":return a.createElement(i,null,a.createElement(g,{object:e,widgetStyle:t,tooltipCopy:o,toastCopy:s,toastCopySubhead:r,viewportCategory:n,allowPopStatModal:c}));default:return a.createElement(l,{object:e,allowPopStatModal:c,isNativeWebview:m},((e,a)=>y(a,e,t,n)))}};return[()=>{b=6048e5,E=2592e6,S=7776e6,C=7776e6,w=z,y=j,_=class extends a.Component{constructor(e){super(e),this.onClose=()=>{d({module:"saves_tooltip",action:"saves_tooltip_close"}),this.setState({enable:!1})},this.onOpen=()=>{d({module:"saves_tooltip",action:"saves_tooltip_displayed"}),M("saves_tooltip_trigger_time_series")},this.state={enable:!0,disabledExternally:!1}}componentDidMount(){v("home-location-prompt").on("shown",(()=>this.setState({disabledExternally:!0})))}componentWillUnmount(){v("home-location-prompt").off("shown")}render(){var{tooltipContent:e}=this.props,{enable:t}=this.state;return this.state.disabledExternally?null:a.createElement(p,{leftOf:!0,shiftX:-10,shiftY:10,contents:t=>a.createElement("div",{className:"bwAmW _S",onClick:()=>{t(),this.onClose()}},e),onClose:this.onClose,local:!0,overlayType:"popover"},((e,o)=>a.createElement("div",{ref:t=>{e(t)}},a.createElement(m,{trigger:()=>{t&&(o(),this.onOpen())},interval:2e3}))))}},h=D,g=x,f=o((e=>({viewportCategory:e.meta.device.viewportCategory,isNativeWebview:e.meta.isNativeWebview})))(W),e("default",f)},[e=>a=e,e=>o=e.connect,e=>l=e.QueriedTripFlowSelector,e=>i=e.MountedClientOnly,e=>s=e.featureIsEnabled,e=>r=e.BookmarkIcon,e=>n=e.default,e=>c=e.unescaped,e=>m=e.default,e=>d=e.default,e=>p=e.default,e=>v=e.createRadio,e=>k=e.Toast,e=>u=e.CloseIcon]]},["cDcdfi","h74DsO","HZtvHO","4Z07E2","-i3PJS","vF730k","jaCyxS","535agn","lmr1u9","Jk5sjx","eDFcUX","l6BSGt","Q7TAd7","xegF5W"]]);
