(this.$WP=this.$WP||[]).push(["rQe52t",(e,t)=>{"use strict";var a,i,n,r,l,o,s,c,d,u,g,m,_,v,b,E={gemini_dining_club_control:"DiningClubFooterAd_Control",gemini_dining_club_2_for_1:"DiningClubFooterAd_2For1Entree",gemini_dining_club_20_percent:"DiningClubFooterAd_FixedDiscount",gemini_dining_club_variable_discount:"DiningClubFooterAd_VariableDiscount"},f=({restaurant:e,variant:t,onClose:i,geoId:n})=>{var{promotionPercentage:r,object:l}=e||{},{name:b,thumbnail:E,parentGeoId:f}=l||{},{localize:h}=_(),p=u(v,n),D=g(v,n);a.useEffect((()=>{p({})}),[p]);var I=E.photoSizes.length?E.photoSizes:[{url:"img2/gemini/dining-club-ads/restaurant_review_footer_ad_1x.jpg",width:340,height:192},{url:"img2/gemini/dining-club-ads/restaurant_review_footer_ad_2x.jpg",width:510,height:288}],C=a.useMemo((()=>"gemini_dining_club_2_for_1"===t?h.string("gemini.dc.2for1.rr.footer.headline",{restaurantName:b}):"gemini_dining_club_20_percent"===t?h.string("gemini.dc.20p.rr.footer.headline",{restaurantName:b}):"gemini_dining_club_variable_discount"===t?h.string("gemini.dc.variable.rr.footer.headline",{percentage:r,restaurantName:b}):""),[t,h,b,r]),k=a.useCallback((()=>{D({actionType:"click"})}),[D]);return a.createElement("div",{className:"fyqMR Gp s Z1"},a.createElement("div",{className:"gaDXP"},a.createElement("div",{className:"bcXvE I"},a.createElement(c,{source:I,lazy:!1,alt:"Dining Club"})),a.createElement("div",{className:"Ejwwa I"},a.createElement("div",{className:"cYfAx"},a.createElement(c,{source:"img2/brand_refresh/Tripadvisor_logoset_solid_white.svg",alt:"Tripadvisor logo",lazy:!1})),a.createElement(o,{variant:"title-04",color:"onDarkText"},a.createElement(m,{id:"gemini.dc.product.name"}))),a.createElement("div",{className:"fGMFY"},a.createElement(o,{variant:"title-03",color:"onDarkText"},C)),a.createElement("div",{className:"QIDur I"},a.createElement(s,{size:"small",variant:"on-dark",href:`/DiningClub?variant=${f}`,target:"_blank",onClick:k},a.createElement(m,{id:"gemini.dc.rr.footer.cta"}))),a.createElement("div",{className:"GWEGH"},a.createElement(d,{colorVariant:"WHITE",onClick:i}))))},h=()=>{var[e]=a.useContext(i),t=parseInt(e&&e.params.geoId||"",10),o=parseInt(e&&e.params.detailId||"",10),[s,c]=a.useState(!1),{currentRestaurant:d,fetchOne:u}=l(),{shouldAdsBeDisplayed:g,testVariant:m,isUserSuitableForTest:_}=r({geoId:null==d?void 0:d.geoId});a.useEffect((()=>{_&&u(t,o)}),[u,t,o,g,_]);var v=a.useCallback((()=>{c(!0)}),[]);return g&&!s&&d?a.createElement(n,null,a.createElement(b,{restaurant:d.restaurant,variant:m,geoId:(null==d?void 0:d.geoId)||t,onClose:v})):null};return[()=>{v={itemNameVariants:E},b=f,e("default",h)},[e=>a=e,e=>i=e.Route,e=>n=e.ErrorBoundary,e=>r=e.useDiningClubTest,e=>l=e.default,e=>o=e.default,e=>s=e.default,e=>c=e.default,e=>d=e.CloseButton,e=>(u=e.useDynamicPageImpressionLogger,g=e.useDynamicPageInteractionLogger),e=>(m=e.default,_=e.useLocalize)]]},["cDcdfi","2R4xv2","nIW_Rw","1GkG4X","lOKOGh","VP50Wc","7yGKf-","BgJkqv","xegF5W","qEkOmT","0DsHEV"]]);
