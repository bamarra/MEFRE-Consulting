(this.$WP=this.$WP||[]).push(["Xolfce",(e,o)=>{"use strict";var t,r,n,s,i,a,l,d,c,u,v,h,p,k,M,E,m,f,C,g,b,H,L,y,S,P,w,R,T,O,x,N,A,_,I,z,B,X=e=>void 0!==e.zIndexOverride?e.zIndexOverride:e.anchorPin?f.anchor:e.selected?f.markerSelected:e.hovered?f.markerHover:0,F=e=>e.selected?"enbME":e.hovered?"dNUyB":e.visited?"bqdBt":null,V=({hovered:e,selected:o})=>e||o?"#52327c":"rgba(0,0,0,0.1)",Y=({visited:e,hovered:o,selected:t})=>e||o||t?"plus-logo-short-purple":"plus-logo-short-white",j=e=>{var{position:o,onClick:r,onMouseEnter:n,onMouseLeave:s}=e;return t.createElement(i,{zIndexOffset:X(e),position:o,trackingContext:"hotel",onClick:r,onMouseEnter:n,onMouseLeave:s,className:"eftha d"},t.createElement("span",{className:H("eFEXS d Xa M_ c R4 Gs q",F(e))},t.createElement(L,{height:16,variant:Y(e)})),t.createElement(b,{marginTop:"-1px",tailWidth:8,backgroundColor:"white",borderColor:V(e)}))},D=({label:e,isSponsored:o,position:n,onClick:s,onMouseEnter:i,onMouseLeave:a,hovered:l,selected:d,anchorPin:c,visited:u,offer:v,children:h})=>{var{realPrice:p,isOptimusOffer:k=!1,cashbackDisplayAmount:M,optimusCashBack:E}=v||{},m=M||E,{userId:b}=t.useContext(g),H=t.useMemo((()=>k&&p?p:e),[p,k,e]),L=t.createElement("span",{"data-hotel-price-marker":"true"},H,o&&t.createElement("span",{className:"cyawO _R n S1"},r("mob_ads_sponsored")));return!k||b&&p||m?t.createElement(C,{position:n,zIndexOverride:o?f.sponsored:void 0,trackingContext:"hotel",onClick:s,onMouseEnter:i,onMouseLeave:a,hovered:l,selected:d,anchorPin:c,visited:u,content:L,isOptimusOffer:!!k},h):t.createElement(T,{onClick:s,onMouseEnter:i,onMouseLeave:a,hovered:l,selected:d,anchorPin:c,visited:u,position:n})},q=e=>{var{hotel:o,hovered:r,selected:n,left:s,right:i,top:a}=e,[l,d]=t.useState(!1),c=o.bubbleRating/10,{name:u}=o,v=t.useMemo((()=>t.createElement(t.Fragment,null,t.createElement("span",{className:"ckEtK"},u),t.createElement(y,{rating:c}))),[u,c]);return!r&&!n||l?t.createElement("div",{className:H("fXmFr _Q C S2 Vm Pb PO Po PB","dQOvq",{bRFkL:s,bNZZZ:i,cqjRn:a}),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1)},v):null},J=(e,o,t,r)=>e?"black":o||t?r?"#52327c":"#078171":"rgba(0,0,0,0.1)",U=e=>{var{userId:o}=t.useContext(g),n="",a=f.primaryMarkers;e.anchorPin?(n="cwXvY",a=f.anchor):e.selected?(n="dEDZE",a=f.markerSelected):e.hovered?(n="eHosi",a=f.markerHover):e.visited?n="juYmY":e.isSponsored&&(a=f.sponsored);var l=e.hotel.offers&&s(e.hotel.offers),{realPrice:d,isOptimusOffer:c=!1,cashbackDisplayAmount:u,optimusCashBack:v}=l||{},h=u||v,p=c?d:e.label,k=t.createElement("span",{className:H("eGNRN",n,{dTYGV:c}),"data-hotel-price-marker":"true"},p,e.isSponsored&&t.createElement("span",{className:"enypN"},r("mob_ads_sponsored")));return!c||o&&d||h?t.createElement(i,{position:e.position,zIndexOffset:a,trackingContext:"hotel",onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:"cnChO d V"},!1,t.createElement("div",{className:"dvnlU"},k,t.createElement(b,{marginTop:"-1px",tailWidth:8,backgroundColor:"white",borderColor:J(e.anchorPin,e.hovered,e.selected,c)})),((e,o,r,n)=>t.createElement(x,{hotel:e.hotel,hovered:e.hovered,selected:e.selected,left:!1,right:!0,top:!1}))(e),e.children):t.createElement(T,{position:e.position,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,selected:e.selected,visited:e.visited,hovered:e.hovered,anchorPin:e.anchorPin})},W=e=>{var{locations:o,hoveredMarker:r,selectedMarker:n,visited:s,showSelectedMarker:i,onMouseEnter:a,onMouseLeave:l,onClick:d}=e;return o.map((e=>{var o=n===e.id,c=r===e.id,u=s[e.id];return i||!o?t.createElement(A,{key:e.id,location:e,selected:o,hovered:c,visited:u,onMouseEnter:a,onMouseLeave:l,onClick:d}):null}))},Z=e=>{var{locations:o,hoveredMarker:r,selectedMarker:n,visited:s,showSelectedMarker:i,onMouseEnter:a,onMouseLeave:l,onClick:d,spTrackingHandler:c}=e;return o.map((e=>{var o=n===e.id,u=r===e.id,v=s[e.id];return i||!o?t.createElement(I,{key:e.id,location:e,selected:o,hovered:u,visited:v,onMouseEnter:a,onMouseLeave:l,onClick:d,spTrackingHandler:c,isRichContentEligible:!1}):null}))},G={left:25,right:150,top:44,bottom:0},Q=(e,o)=>o.bounds.southwest.lng-e.bounds.southwest.lng,$=e=>{var{locations:o,hoveredMarker:r,selectedMarker:n,visited:s,showSelectedMarker:i,onMouseEnter:d,onMouseLeave:c,onClick:u,spTrackingHandler:v,zoomLevel:h,servlet:p}=e,k=(e=>{var o=t.useRef(),r=o.current,n=void 0!==r&&e.length===r.length&&e.every(((e,o)=>e.id===r[o].id));return t.useEffect((()=>{n||(o.current=e)})),n?r:e})(o),M=t.useMemo((()=>(e=>"Hotels"===e||S("hr_maps_rich_content_hotelname")&&"Hotel_Review"===e)(p)&&h&&k?((e,o)=>{var t={},r={};e.forEach((e=>{if(e.entityType&&"hotel"===e.entityType&&e.offers&&e.offers.length){var t=new a(e.geoPoint.latitude,e.geoPoint.longitude);r[e.id.toString()]={rating:e.bubbleRating,id:e.id.toString(),bounds:l.getPaddedBounds(t,o,G)}}}));for(var n=Object.keys(r).map((e=>r[e])).slice().sort(Q),s=0;s<n.length;s++){for(var i=n[s],d=!1,c=s-1;c>=0;c--){var u=n[c];if(!(u.bounds.southwest.lng<i.bounds.northeast.lng))break;if(u.bounds.intersectsBounds(i.bounds)){d=!0;break}}d||(t[i.id]=!0)}return t})(k,h):null),[h,k,p]);return o.map((e=>{var o=n===e.id,a=r===e.id,l=s[e.id];return i||!o?t.createElement(I,{key:e.id,location:e,selected:o,hovered:a,visited:l,onMouseEnter:d,onMouseLeave:c,onClick:u,spTrackingHandler:v,isRichContentEligible:null!==M&&M[e.id.toString()]&&e.bubbleRating>0}):null}))};return[()=>{T=j,D.defaultProps={onClick:null,onMouseEnter:null,onMouseLeave:null,children:null,selected:!1,hovered:!1,visited:!1,anchorPin:!1,isSponsored:!1},O=D,x=q,U.defaultProps={onClick:null,onMouseEnter:null,onMouseLeave:null,children:null,selected:!1,hovered:!1,visited:!1,anchorPin:!1,isSponsored:!1},N=U,w=class extends t.PureComponent{constructor(...e){super(...e),this.onClick=()=>{this.props.onClick(this.props.location)},this.onHoverStart=()=>{this.props.onMouseEnter(this.props.location)},this.onHoverEnd=()=>{this.props.onMouseLeave(this.props.location)}}render(){var{location:e,hovered:o,selected:r,visited:i}=this.props,l=new a(e.geoPoint.latitude,e.geoPoint.longitude);switch(e.entityType){case"hotel":return((e,o,r,i,a,l,d,c)=>{var u=e.offers&&s(e.offers);return u?t.createElement(O,{key:e.id,position:o,anchorPin:!0,label:n.formatCurrencyInteger(u.price),selected:i,hovered:r,visited:a,onMouseEnter:l,onMouseLeave:d,onClick:c,offer:u}):t.createElement(h,{key:e.id,position:o,selected:i,hovered:r,visited:a,onMouseEnter:l,onMouseLeave:d,onClick:c})})(e,l,o,r,i,this.onHoverStart,this.onHoverEnd,this.onClick);case"restaurant":return t.createElement(v,{key:e.id,position:l,selected:r,hovered:o,visited:i,onMouseEnter:this.onHoverStart,onMouseLeave:this.onHoverEnd,onClick:this.onClick});case"rental":return t.createElement(u,{key:e.id,position:l,selected:r,hovered:o,visited:i,onMouseEnter:this.onHoverStart,onMouseLeave:this.onHoverEnd,onClick:this.onClick});case"attraction":return t.createElement(d,{key:e.id,position:l,selected:r,hovered:o,visited:i,onMouseEnter:this.onHoverStart,onMouseLeave:this.onHoverEnd,onClick:this.onClick});case"airport":return t.createElement(c,{key:e.id,position:l,selected:r,hovered:o,visited:i,onMouseEnter:this.onHoverStart,onMouseLeave:this.onHoverEnd,onClick:this.onClick});default:return t.createElement(d,{key:e.id,position:l,selected:r,hovered:o,visited:i,onMouseEnter:this.onHoverStart,onMouseLeave:this.onHoverEnd,onClick:this.onClick})}}},A=w,W.defaultProps={hoveredMarker:0,selectedMarker:0,visited:{},showSelectedMarker:!0},_=W,(R=class extends t.PureComponent{constructor(...e){super(...e),this.onClick=()=>{this.props.onClick(this.props.location)},this.onHoverStart=()=>{this.props.onMouseEnter(this.props.location)},this.onHoverEnd=()=>{this.props.onMouseLeave(this.props.location)}}render(){var{location:e,hovered:o,selected:r,visited:i}=this.props,l=new a(e.geoPoint.latitude,e.geoPoint.longitude);switch(e.entityType){case"hotel":return((e,o,r,i,a,l,d,c,u,v)=>{e.sponsoredListing&&null!=u&&u.visibleHandler(e);var h=e.offers&&s(e.offers);return h?v?t.createElement(N,{key:e.id,hotel:e,position:o,label:n.formatCurrencyInteger(h.price),selected:i,hovered:r,visited:a,onMouseEnter:l,onMouseLeave:d,onClick:c,isSponsored:!!e.sponsoredListing}):t.createElement(O,{key:e.id,position:o,label:n.formatCurrencyInteger(h.price),selected:i,hovered:r,visited:a,onMouseEnter:l,onMouseLeave:d,onClick:c,isSponsored:!!e.sponsoredListing,offer:h}):t.createElement(m,{key:e.id,position:o,selected:i,hovered:r,visited:a,onMouseEnter:l,onMouseLeave:d,onClick:c,unavailable:!0})})(e,l,o,r,i,this.onHoverStart,this.onHoverEnd,this.onClick,this.props.spTrackingHandler,this.props.isRichContentEligible);case"restaurant":return t.createElement(E,{key:e.id,position:l,selected:r,hovered:o,visited:i,onMouseEnter:this.onHoverStart,onMouseLeave:this.onHoverEnd,onClick:this.onClick});case"rental":return t.createElement(M,{rental:e,key:e.id,position:l,selected:r,hovered:o,visited:i,onMouseEnter:this.onHoverStart,onMouseLeave:this.onHoverEnd,onClick:this.onClick});case"attraction":return t.createElement(p,{key:e.id,position:l,selected:r,hovered:o,visited:i,onMouseEnter:this.onHoverStart,onMouseLeave:this.onHoverEnd,onClick:this.onClick});case"airport":return t.createElement(k,{key:e.id,position:l,selected:r,hovered:o,visited:i,onMouseEnter:this.onHoverStart,onMouseLeave:this.onHoverEnd,onClick:this.onClick});case"vp":return((e,o,r,n,s,i,a,l)=>e.vpoffers&&e.vpoffers.length&&e.vpoffers[0].priceText?t.createElement(O,{key:e.id,position:o,label:e.vpoffers[0].priceText,selected:n,hovered:r,visited:s,onMouseEnter:i,onMouseLeave:a,onClick:l,isSponsored:!1}):t.createElement(m,{key:e.id,position:o,selected:n,hovered:r,visited:s,onMouseEnter:i,onMouseLeave:a,onClick:l,unavailable:!0}))(e,l,o,r,i,this.onHoverStart,this.onHoverEnd,this.onClick);default:return t.createElement(p,{key:e.id,position:l,selected:r,hovered:o,visited:i,onMouseEnter:this.onHoverStart,onMouseLeave:this.onHoverEnd,onClick:this.onClick})}}}).defaultProps={spTrackingHandler:null},I=R,Z.defaultProps={hoveredMarker:0,selectedMarker:0,visited:{},showSelectedMarker:!0,spTrackingHandler:null},z=Z,$.defaultProps={hoveredMarker:0,selectedMarker:0,visited:{},showSelectedMarker:!0,spTrackingHandler:null},B=P((e=>({servlet:e.route.page||""})))($),e({AnchorMarkers:_,HotelPrimaryMarkers:B,PrimaryMarkers:z})},[e=>t=e,e=>(r=e.localize,n=e.globalize),e=>s=e.findFirstOffer,e=>(i=e.Marker,a=e.LatLng,l=e.Util),e=>(d=e.AttractionAnchorMarker,c=e.AirportAnchorMarker,u=e.RentalAnchorMarker,v=e.RestaurantAnchorMarker,h=e.HotelAnchorMarker,p=e.AttractionMarker,k=e.AirportMarker,M=e.RentalMarker,E=e.RestaurantMarker,m=e.HotelMiniMarker),e=>f=e.default,e=>C=e.default,e=>g=e.Visitor,e=>b=e.default,e=>H=e.default,e=>L=e.default,e=>y=e.BubbleRating,e=>S=e.featureIsEnabled,e=>P=e.connect]]},["cDcdfi","535agn","fTsrJe","VwUieX","XiRh4V","e3JVFn","-7XpHF","2R4xv2","aEMrjM","jSLlaY","TkeYrn","QnohJ2","-i3PJS","h74DsO"]]);
