(this.$WP=this.$WP||[]).push(["mGqah_",(e,t)=>{"use strict";var a,n,i,r,o,l,s,u,c,m,d,v,p,E,g,h,f,b,C,x,k,N,_,y,w,S,T,V,A,R,O,L,B,I,P,U=e=>{var{isOptimusEnabled:t,isOptimusSubscribed:a}=h(),{locale:n}=i(v),{cashbackEnabled:r}=f(!t||a||!e.includes("Nova")||"en-US"!==n.code);return a||!t?"false":r?"Cashback":"Discount"},j={Home:["InlineNova"]},F=e=>{var t,[{page:a}]=i(p);return"false"!==U(e)&&null!=(t=j[a])&&t.includes(e)?"Optimus":null},H="eYhTi",K={maxHeight:1388,maxWidth:1728,urlTemplate:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/1c/9a/45/caption.jpg?w={width}&h={height}&s=1"},z="NOVA_FALLBACK",D=()=>{var{localize:e}=x(),[,{uid:t}]=i(p),a=_(),l=y(),[s]=r(k()),u=N((()=>{a({optimusAd:{pageviewUid:t,funnelKey:s,position:z}})})),c=o((()=>{l({OptimusAdInteraction:{optimusAdClick:{pageviewUid:t,funnelKey:s,position:z}}})}),[l,t,s]),m=`/Plus?ik=${s}`;return n.createElement("div",{ref:u},n.createElement(b,{title:e.string("plus_home_takeover_nova_header"),subtitle:e.string("plus_home_takeover_nova_subheader"),ctaText:e.string("plus_home_takeover_learn_more"),href:m,backgroundColor:"plusBackground",image:K,contentHeader:n.createElement(C,{variant:"plus-logo-text-white",height:20}),onClick:c}))},X=({takeoverVariant:e})=>{switch(e){case"Optimus":return n.createElement(A,null);default:return console.error(`Missing nova ad takeover fallback for variant: ${e}`),null}},Y=["Home"],M=({position:e,takeoverVariant:t,children:n,aboveTheFold:i=!1})=>{var[r]=a.useContext(p),{viewportCategory:o}=a.useContext(E),l=Y.includes(r.page)?"3x3":{MOBILE:"300x250|8x8|3x3",TABLET:"728x90|3x3",DESKTOP:"728x90|3x3"}[o],{ref:u,id:c,isEmpty:d,isRendered:v}=m(l,e,"",i),h=!!t,f=v&&d,b=f&&"Optimus"===t;return a.createElement("div",{className:s({tbCLx:h&&!b,fcsao:h&&b,[H]:!h})},f&&((e,t,n)=>e?a.createElement(R,{takeoverVariant:e}):t?a.createElement(g,null):n||null)(t,"Tourism"===r.page,n),a.createElement("div",{id:c,ref:u,className:s("caEpn f j u",{"VzQYj P0 o":d})}))},W=e=>a.createElement("div",{className:s("fwsdX",H)},a.createElement(d,{position:"RailNova",size:"300x250|300x600|3x3",isSticky:e.isSticky})),$=e=>{var{position:t}=e;return a.createElement("div",{"data-automation":`nova-ad-${t}`},"InlineNova"===t&&a.createElement(M,e),"RailNova"===t&&a.createElement(W,e))},G=e=>{var t=V(e.position),n=U(e.position),i=e.additionalTargeting?{...e.additionalTargeting,PlusEligible:n}:{PlusEligible:n},r={...e,takeoverVariant:t};return a.createElement(c,{value:i},a.createElement($,r))},Q=({position:e,...t})=>a.createElement(u,{position:e},a.createElement(G,Object.assign({position:e},t))),J=({theme:e,onClose:t})=>{var{localize:a}=x();return n.createElement("button",{className:s("fTtaR B- _S G-",{Ucbtl:"sand"===e,bRncf:"mint"===e,eSLKV:"juniper"===e}),onClick:t,"aria-label":a.string("common_Close"),type:"button"},n.createElement(T,{name:"times"}))},Z=({maxViews:e,storageKey:t,theme:a="mint",onClose:i,onVisible:r,children:o})=>{var{isWebview:l}=n.useContext(E),[s,u]=n.useState(!1),c=N((()=>{r&&r()})),m=n.useCallback((()=>{u(!1),S.set(t,e),i&&i()}),[e,i,t]);return n.useEffect((()=>{var a=S.has(t)?parseInt(S.get(t),10):0;a<e&&(u(!0),S.set(t,a+1))}),[e,t]),!s||l?null:n.createElement(B,{theme:a,ref:c},n.createElement("div",{className:"cXKty _U t"},n.createElement(I,{theme:a,onClose:m})),n.createElement("div",{className:"eXeXp w"},o))},q="SUNova",ee=()=>{var[{page:e}]=n.useContext(p),t=w(),a=a=>{t({module:"Nova_Forum",context:e,action:a})},{ref:i,id:r,isEmpty:o,isLoaded:l}=m("3x3",q,"",!0);return n.createElement("div",{className:s({czTjY:!l||o})},n.createElement(P,{storageKey:"novaForumViewCount",maxViews:2,theme:"nova",onVisible:()=>{a("Nova_Forum_seen")},onClose:()=>{a("Nova_Forum_closed")}},n.createElement("div",{ref:i,id:r,className:s("OtaVz")})))},te=()=>{var e={fluidType:"nova",PlusEligible:U(q)};return n.createElement(u,{position:q},n.createElement(c,{value:e},n.createElement(ee,null)))},ae=["MOBILE"],ne=["Tourism","Hotel_Review","Restaurants","Restaurants_Review","ShowForum","ShowTopic"],ie=["en-US","fr-FR","en-AU","en-GB","en-CA","fr-CA","es-MX","it-IT","es-ES","ja-JP","ko-KR","zh-Hant-TW","en-IN","de-DE","nl-NL","pt-BR"],re=()=>{var[e]=i(p),{viewportCategory:t,userAgentCategory:a}=i(E),{locale:n}=i(v);return"en-US"===n.code||!!(ae.includes(a)&&ae.includes(t)&&ie.includes(n.code)&&ne.includes(e.page))};return[()=>{V=F,A=D,R=X,O=l(Q),(L=n.forwardRef((({theme:e,children:t},a)=>n.createElement("div",{ref:a,className:s("cfybu f o D s Za",{csMOQ:"mint"===e,eVoiX:"sand"===e,eNyeZ:"juniper"===e,dBVVs:"nova"===e}),role:"dialog"},t)))).displayName="PromoContentContainer",B=L,I=J,P=Z,e({NovaStickyAd:te,default:O,useNovaAd:re})},[e=>(a=e,n=e.default,i=e.useContext,r=e.useState,o=e.useCallback,l=e.memo),e=>s=e.default,e=>(u=e.AdErrorBoundary,c=e.AdTargetingProvider,m=e.useAd,d=e.RailAd),e=>(v=e.Environment,p=e.Route,E=e.Device),e=>g=e.default,e=>h=e.useOptimusEnabledForUser,e=>f=e.useCashbackEnabled,e=>b=e.InsetImageFeatureCard,e=>C=e.default,e=>x=e.useLocalize,e=>k=e.uuid,e=>N=e.useOnVisible,e=>_=e.useImpressionLogger,e=>(y=e.useInteractionLogger,w=e.useGARecorder),e=>S=e.default,e=>T=e.default]]},["cDcdfi","jSLlaY","dHlxRh","2R4xv2","2IPQDU","v_y45t","tVuenP","U1tcLB","TkeYrn","0DsHEV","O-HcBE","BLrxBS","30t50h","fsml46","jaCyxS","pyY-iJ"]]);
