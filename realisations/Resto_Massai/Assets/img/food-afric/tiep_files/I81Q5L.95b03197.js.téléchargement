(this.$WP=this.$WP||[]).push(["I81Q5L",(e,t)=>{"use strict";var r,n,a,i,s,c,o,u,d,m,l,f=(e,t)=>Object.create(PerformanceEntry.prototype,{name:{value:e},entryType:{value:"mark"},startTime:{value:(()=>{if(void 0!==t.startTime){if(t.startTime<0)throw new TypeError("Invalid startTime");return t.startTime}return performance.now()})()},duration:{value:0},detail:{value:t.detail}}),p=(e,t,r)=>{t in e?e[t]+=r:e[t]=r},h=(e,t)=>e+t,y=/\.(jpg|webp)\?((w|h|s|q|f)=){1,}/,g=!1,v=(e,t)=>{var{domainName:r,locale:v,version:w,cdnPrefix:T}=n(c),{userId:S}=n(o),{viewportCategory:b,isWebview:E}=n(u),k=a(!1),W=a(1),_=a(0);i((()=>{if(performance.getEntriesByName("hidden").length>0){var e=performance.getEntriesByName("visible");_.current=e.length>0?e[e.length-1].startTime:performance.now()}}),[]);var q=a({checksum:0,uid:t,page:e,isRepresentative:!0,pageLoad:null,timings:[],metrics:{},navigations:[]}),z=a(!1);i((()=>{g?z.current=!0:g=!0}),[]);var B=a((()=>{z.current||(q.current.metrics["document-dwell-time"]=performance.now()-_.current,Object.entries(q.current.metrics).forEach((([e,t])=>{var r;q.current.metrics[e]=(r=t,Math.round(1e4*r)/1e4)})),navigator.sendBeacon("/data/2.0/rum",JSON.stringify(q.current)),q.current.pageLoad=null,q.current.metrics={},q.current.timings=[],q.current.navigations=[],_.current=performance.now())})),M=a(E),I=a(v.code),R=a(S),j=a(w),N=a(b);i((()=>{M.current=E,I.current=v.code,R.current=S,j.current=w,N.current=b}),[E,v.code,S,w,b]);var L=a(!0);i((()=>{var r,n,a;L.current?L.current=!1:(B.current(),W.current++,performance.clearMarks("hidden")),q.current.checksum=[t,e].map((e=>Array.from(l.encode(e)).reduce(h,0))).reduce(h,0),q.current.uid=t,q.current.page=e,q.current.isRepresentative=!0,q.current.pageLoad={uid:t,page:e,locale:I.current,revision:j.current,is_logged_in:null!==R.current,viewport_category:N.current,is_webview:M.current,user_agent:(null==(r=window.navigator)?void 0:r.userAgent)||"unknown",connection_type:(null==(n=window.navigator)||null==(a=n.connection)?void 0:a.effectiveType)||"unknown",sequence_id:W.current,is_hidden:performance.getEntriesByName("hidden").length>0}}),[t,e]),i((()=>{if("undefined"!=typeof PerformanceObserver){var e=new Set;q.current.metrics={},q.current.timings=[],q.current.navigations=[];var t,n=t=>{t.filter((e=>"mark"!==e.entryType||m.has(e.name))).filter((e=>"measure"!==e.entryType||!(e.name.startsWith("⚛")||e.name.startsWith("⛔")))).filter((t=>!e.has(t))).forEach((t=>{e.add(t),q.current.timings.push([t.name,t.entryType,Math.round(t.startTime),Math.round(t.duration)])}))},a=[[["navigation"],t=>{if(t.length>0){var r=t[t.length-1];if(e.has(r))return;e.add(r);try{n([f("fetch-start",{startTime:r.fetchStart||r.startTime}),f("request-start",{startTime:r.requestStart}),f("time-to-first-byte",{startTime:r.responseStart-r.requestStart}),f("time-to-last-byte",{startTime:r.responseEnd-r.requestStart})])}catch(e){console.error(e)}r.transferSize&&(q.current.metrics["document-transferred-bytes"]=r.transferSize),q.current.navigations.push({puid:q.current.uid,name:r.name,dns:Math.round(r.domainLookupEnd-r.domainLookupStart),ttfb:Math.round(r.responseStart-r.requestStart),download:Math.round(r.responseEnd-r.responseStart),size:r.transferSize||0})}},!1],[["resource"],t=>{k.current||t.filter((e=>e.decodedBodySize>0)).filter((t=>!e.has(t))).forEach((t=>{e.add(t),t.name.includes(T)&&t.name.endsWith(".js")?(p(q.current.metrics,"js-cdn-transferred-bytes",t.transferSize),p(q.current.metrics,"js-cdn-encoded-bytes",t.encodedBodySize),p(q.current.metrics,"js-cdn-decoded-bytes",t.decodedBodySize)):t.name.includes(T)&&t.name.endsWith(".css")?(p(q.current.metrics,"css-cdn-transferred-bytes",t.transferSize),p(q.current.metrics,"css-cdn-encoded-bytes",t.encodedBodySize),p(q.current.metrics,"css-cdn-decoded-bytes",t.decodedBodySize)):t.name.endsWith(".jpg")||t.name.endsWith(".jpeg")||t.name.endsWith(".ico")||t.name.endsWith(".gif")||t.name.endsWith(".png")||t.name.endsWith(".svg")||y.test(t.name)||t.name.endsWith(".ts")||t.name.endsWith(".m3u8")?(p(q.current.metrics,"media-transferred-bytes",t.transferSize),p(q.current.metrics,"media-request-count",1)):t.name.includes(r)&&t.name.includes("/data/")?(p(q.current.metrics,"data-transferred-bytes",t.transferSize),p(q.current.metrics,"data-request-count",1)):(p(q.current.metrics,"other-transferred-bytes",t.transferSize),p(q.current.metrics,"other-request-count",1))}))},!1],[["mark","measure"],n,!1],[["paint"],e=>{performance.getEntriesByName("hidden").length>0&&(q.current.isRepresentative=!1),n(e)},!0],[["longtask"],e=>{e.forEach((e=>{p(q.current.metrics,"total-blocking-time",e.duration-50),p(q.current.metrics,"long-task-count",1),q.current.timings.push([["task",e.name,...e.attribution.map((e=>e.containerName||e.containerId||(e.containerSrc&&e.containerSrc.startsWith("http")?e.containerSrc:"inline-iframe"))).filter(Boolean)].join(" > "),e.entryType,Math.round(e.startTime),Math.round(e.duration)])}))},!1],[["largest-contentful-paint"],e=>{if(e.length>0){var t=e[e.length-1];t.renderTime&&(q.current.metrics["largest-contentful-paint"]=t.startTime)}},!0],[["element"],e=>{e.forEach((e=>{q.current.timings.push([`${e.identifier} ${e.name}`,"element",Math.round(e.startTime),0])}))},!0],[["layout-shift"],e=>{e.forEach((({hadRecentInput:e,value:t})=>{e||p(q.current.metrics,"layout-shift-score",t)}))},!0],[["first-input"],(e,t)=>{if(e.length>0){var{processingStart:r,startTime:a}=e[0];q.current.metrics["first-input-delay"]=r-a;try{n([f("first-input-delay",{startTime:r-a})])}catch(e){console.error(e)}t&&t.disconnect()}},!0]].map((([e,t,r])=>{var n=null,a=requestIdleCallback((()=>{n=new PerformanceObserver(((e,r)=>t(e.getEntries(),r)));var a=!r;try{n.observe(1===e.length&&r?{type:e[0],buffered:r}:{entryTypes:e})}catch(t){a=!0;try{n.observe({entryTypes:e})}catch(e){a=!1}}a&&e.forEach((e=>{"longtask"===e&&window.__tti&&Array.isArray(window.__tti.e)?t(window.__tti.e):t(performance.getEntriesByType(e))}))}));return()=>{cancelIdleCallback(a),null!==n&&n.disconnect()}}));return s((e=>{null!=e&&(k.current=!0,performance.getEntriesByName("hidden").length>0&&(q.current.isRepresentative=!1),q.current.metrics["time-to-interactive"]=e,n([f("time-to-interactive",{startTime:e})]))})),"undefined"==typeof PerformanceEventTiming&&(null==(t=window.perfMetrics)||null==t.onFirstInputDelay||t.onFirstInputDelay((e=>{q.current.metrics["first-input-delay"]=e,n([f("first-input-delay",{startTime:e})])}))),()=>{a.forEach((e=>e()))}}}),[T,r]),i((()=>{try{window.self!==window.top&&(q.current.isRepresentative=!1)}catch(e){}window.location.hostname!==r&&(q.current.isRepresentative=!1),performance.getEntriesByName("hidden").length>0&&(q.current.isRepresentative=!1)}),[r]),i((()=>{var e=e=>{"hidden"===e.oldState&&"passive"===e.newState&&(_.current=performance.now()),"hidden"===e.newState&&B.current()};return d.addEventListener("statechange",e),()=>{g=!1,d.removeEventListener("statechange",e)}}),[])},w=({page:e,puid:t})=>(v(null!=e?e:"Unknown",t||""),null);return[()=>{m=new Set(["time-to-interactive","first-paint","first-contentful-paint","cpm-hero-latency","first-input-delay","load","time-to-first-byte","time-to-last-byte","request-start","fetch-start"]),l=new TextEncoder,e({default:r.memo(w),useRUM:v})},[e=>(r=e.default,n=e.useContext,a=e.useRef,i=e.useEffect),e=>s=e.requestTTICallback,e=>(c=e.Environment,o=e.Visitor,u=e.Device),e=>d=e.default]]},["cDcdfi","6NeHQy","2R4xv2","FMwI_q"]]);
