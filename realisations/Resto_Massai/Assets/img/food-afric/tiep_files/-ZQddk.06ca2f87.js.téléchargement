(this.$WP=this.$WP||[]).push(["-ZQddk",(e,t)=>{"use strict";var r,n,a,l,i,o,m,s,u,c,d,h,v,T,f,g=()=>null!=c&&c.matches?"DARK":"LIGHT",S=e=>null==c?void 0:c.removeEventListener("change",e),k=()=>v,I=(e=!0)=>{var t=m(h);return[v,r.useCallback((e=>t({themeStore:e})),[t])]},O="theme",b=()=>s.get(O).then((e=>{if(null!=e&&"object"==typeof e&&null!=e.theme&&null!=e.themePreferenceOrAuto){var{theme:t,themePreferenceOrAuto:r}=e;return{theme:t,themePreferenceOrAuto:r}}})).catch((e=>{console.error("Error getting theme from IndexedDB",e)})),p="dark_mode_on_web_v2_1638372457",A=()=>{var{locale:e}=r.useContext(a),t="en"===e.language,n=u({experimentKeys:[p],skipImpression:!t}),l="test"===(null==n?void 0:n[p])&&t;return{enableTheming:l||!1,canChangeThemes:l}},D="themeChanged",x=e=>null!=e?n[e]:void 0,E=()=>r.useContext(f),P=({initialThemeStore:e,children:t})=>{var a,m,u,d,{canChangeThemes:h,enableTheming:v}=T(),[k,p]=I(v),[A,E]=r.useState(null!=(a=null==(m=null!=e?e:k)?void 0:m.theme)?a:"LIGHT"),[P,y]=r.useState(null!=(u=null==(d=null!=e?e:k)?void 0:d.themePreferenceOrAuto)?u:"AUTO"),C=r.useRef((()=>{}));r.useEffect((()=>()=>S(C.current)),[]);var L=r.useCallback(((e,t)=>{if(v){y(e);var r=document.body;if(null!=r){var a=x(e);r.classList.remove(...Object.values(n).map(String)),null!=a&&r.classList.add(a)}!1!==(null==t?void 0:t.syncToTabs)&&(window.localStorage.setItem(D,e),window.localStorage.removeItem(D));var l,i=r=>{E(r);var n={theme:r,themePreferenceOrAuto:e};!1!==(null==t?void 0:t.saveToService)&&p(n),!1!==(null==t?void 0:t.saveToIndexedDB)&&(e=>{s.set(O,e).catch((e=>console.error("Error saving theme to IndexedDB",e)))})(n)};"AUTO"===e?(i(g()),S(C.current),C.current=()=>{i(g())},l=C.current,null==c||c.addEventListener("change",l)):(i(e),S(C.current))}}),[p,v]),{serviceWorker:N}=r.useContext(l);r.useEffect((()=>{null!=e?L(e.themePreferenceOrAuto,N?{saveToIndexedDB:!1}:{saveToService:!1}):N?L("AUTO",{saveToIndexedDB:!1,saveToService:!1}):b().then((e=>{null!=e?L(e.themePreferenceOrAuto,{saveToIndexedDB:!1}):L("AUTO",{saveToIndexedDB:!1,saveToService:!1})}))}),[L,N,e]),o("storage",(e=>{var t=e;t.key===D&&null!=t.newValue&&L(t.newValue,{saveToService:!1,saveToIndexedDB:!1,syncToTabs:!1})}));var w=i();r.useEffect((()=>{v&&w({itemType:"theme",customData:JSON.stringify({theme:A})})}),[v,w,A]);var _=r.useMemo((()=>v?{theme:A,themePreferenceOrAuto:P,canChangeThemes:h,setTheme:L}:{theme:"LIGHT",themePreferenceOrAuto:"LIGHT",canChangeThemes:!1,setTheme:()=>{}}),[A,P,v,h,L]);return r.createElement(f.Provider,{value:_},t)},y=({lightSrc:e,darkSrc:t,alt:n,...l})=>{var{cdnPrefix:i}=r.useContext(a),{themePreferenceOrAuto:o}=E(),m="AUTO"===o&&e!==t,s=e=>{if(""!==i)try{return new URL(e,i).href}catch{}return e};return r.createElement("picture",null,m&&r.createElement(r.Fragment,null,r.createElement("source",{srcSet:s(t),media:"(prefers-color-scheme: dark)"}),r.createElement("source",{srcSet:s(e)})),r.createElement("img",Object.assign({},l,{src:s("DARK"===o?t:e),alt:n})))};return[()=>{c=null==globalThis.matchMedia?void 0:globalThis.matchMedia("(prefers-color-scheme: dark)"),(d=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"ThemeMutation"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"themeStore"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Theme_ThemeStoreInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"Theme_updateTheme"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"themeStore"},"value":{"kind":"Variable","name":{"kind":"Name","value":"themeStore"}}}],"directives":[]}]}}],"loc":{"start":0,"end":117}}')).__key=0xa3f6ce6bc229,h=d,T=A,f=r.createContext({theme:"LIGHT",themePreferenceOrAuto:"LIGHT",canChangeThemes:!1,setTheme:()=>{}}),e({ThemeProvider:P,ThemedImage:y,getBodyElementClassName:x,getInitialThemeStoreForServerSideRenderer:k,getInitialThemeStoreForServiceWorkerRenderer:b,useTheme:E})},[e=>r=e.default,e=>n=e.themeClassNames,e=>(a=e.Environment,l=e.Debug),e=>i=e.useImpressionV3Logger,e=>o=e.useWindow,e=>m=e.useStatelessMutation,e=>s=e,e=>u=e.default]]},["cDcdfi","RH7wJe","2R4xv2","30t50h","Dg5_-9","OnmvvE","zEzqul","S-RL4Q"]]);
