(this.$WP=this.$WP||[]).push(["dHlxRh",(e,t)=>{"use strict";var r,a,i,n,s,l,o,d,u,c,m,v,p,E,f,g,b,h,y,x,R,w,T,_,A,S,k,L,C,z,P,M,B,D,I,N=({children:e})=>a.createElement(r,{onError:()=>{}},e),O=(e,t)=>{var r=n([]);return R(r.current,t)||(r.current=t),s(e,[r.current])},W=({children:e,value:t})=>{var r=P((()=>t),[t]);return i.createElement(M.Provider,{value:r},e)},K={isRendered:!1,isVisible:!1,isLoaded:!1,isEmpty:!0},j=["loadNativeAd","disableAdRefresh","whereToSponsor"];function F(e,t,r="",a=!1,i,l=!0,m){var[E,h]=d(null),R=n(null),w=u((e=>{h(e)}),[]),T=n(0),_=`slot:${e.replace(/\|/g,"-")}:${t}`,{domainName:A}=o(b),S=o(p),k=function(e,t){var r=v(),a=o(M),i=function(e,t){var{userAgentCategory:r,isWebview:a}=o(g);if("MOBILE"===r){if(e.includes("8x8"))return a?"app_external":"web_external";if("adhesion"===t)return"adhesion"}return null}(e,t),n=function(e,t){return e.includes("5x1")||"horizon"===t?"horizon":e.includes("728x90")?"banner":"300x250"===e&&t.startsWith("rail")?"shortRail":t.startsWith("rail")?"rail":null}(e,t);return s((()=>{if(!r)return null;var{adBase:e,ppid:s}=r;return{...r,...n&&{fluidType:n},...i&&{mob_adslot:i},pos:t,...a,adBase:e,ppid:s}}),[r,n,i,t,a])}(e,t),[L,C]=d(K),{isLoaded:z,isRendered:P,isVisible:B}=L,D=y(),I=x(),N=u((e=>{R.current&&R.current.contentWindow.postMessage(e,A)}),[A]),O=null!==k,W=n(!1);W.current=O&&z&&B;var[F,H]=d(!1),V=s((()=>f((()=>{S&&!F&&S.refreshSlot(_)}),l?3e4:0)),[S,_,l,F]);return c((()=>{if(E){R.current=E.querySelector("iframe");var e=e=>{var r;if(e.data&&"object"==typeof e.data&&j.includes(e.data.cpmMessageType)&&(e.source===(null==(r=R.current)?void 0:r.contentWindow)||e.data.adPos===t)){if("https://tpc.googlesyndication.com"!==e.origin)return;if("disableAdRefresh"===e.data.cpmMessageType)return void H(!0);i&&i(e.data)}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}}),[P,E,i,t]),c((()=>{W.current&&V()}),[V,r,W,_]),c((()=>{if(E&&O&&S&&k){var r={id:_,elem:E,size:e,position:t,targeting:k,aboveTheFold:a},{addEventListener:i}=S.createSlot(r);D("CREATED",t);var n=i(((e,r)=>{switch(r){case"slotRefreshStart":m&&m(),T.current=Date.now(),I("REFRESHED",t);break;case"slotRenderEnded":case"forcedEmpty":I("POPULATED",t,e.isEmpty,0!==T.current?Date.now()-T.current:null),T.current=0}C((t=>({...t,...e})))}));return()=>{S.destroySlot(_),C(K),n()}}}),[_,S,E,e,t,k,a,O,I,D,m]),{ref:w,id:_,postMessage:N,...L}}function H(e,t="",r=!0){var[a,i]=d(0);return c((()=>{if(r){var t=setInterval((()=>{i((e=>e+1))}),e);return()=>clearInterval(t)}return()=>{}}),[t,i,e,r]),t+a.toString()}function V(e=""){var[t,r]=d(0);return c((()=>{var e=()=>{"visible"===document.visibilityState&&r((e=>e+1))};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)}),[]),e+t.toString()}var X=["Restaurants","Hotels","AttractionsFusion"];function $(){var e="",{timer:t,isControlGroup:r}=function(){var e,[t]=o(h),{page:r}=t,a=T({experimentKeys:["ad_refresh_testing_2.1_1633113911"],skipImpression:!X.includes(r)}),i=!1;switch(null==a?void 0:a["ad_refresh_testing_2.1_1633113911"]){case"variant2":e=45e3;break;case"variant1":e=3e4;break;case"control":case null:default:e=1061109567,i=!0}return{timer:e,isControlGroup:i}}(),[a]=o(h),{page:i}=a,n=w(),s=V();n&&(e=s);var l=X.includes(i)&&!r,d=H(t,e,l);return l&&(e=d),e}function G(e){var{setTargeting:t}=o(E),r=P((()=>e),[e]);c((()=>(t(r),()=>t({}))),[r,t])}var U=["Restaurants","RestaurantsNear","RestaurantReview"],q="728x90|550x310",Q="728x90";function Z({mobile:e,tablet:t,desktop:r}){var[a]=o(h),{page:i}=a,n=T({experimentKeys:["teads_expansion_restaurants_1629905913"]},!U.includes(i)),s=null==n?void 0:n.teads_expansion_restaurants_1629905913,l={mobile:e,tablet:t,desktop:r};if(U.includes(i))switch(s){case"test":l.tablet=q,l.desktop=q;break;case"control":default:l.tablet=Q,l.desktop=Q}return l}var J="adhesion",Y="WP.adhesionDismissed",ee=({children:e=null})=>{var{localize:t}=S(),{viewportCategory:r}=o(g),{ref:a,id:n,isEmpty:s}=F("320x50",J,"",!0),[l,m]=d(!1);c((()=>{var e=!A.get(Y);m(e)}),[]);var v=u((()=>{A.set(Y,!0),m(!1)}),[]);return"MOBILE"!==r?null:i.createElement(i.Fragment,null,l&&i.createElement("div",{className:"dAscC s l Z1"},!s&&i.createElement("div",{className:"dbsUv Q Rb c H0"},i.createElement(L,{size:"small",onClick:v,iconName:"times","aria-label":t.string("common_Close")})),i.createElement("div",{id:n,ref:a,className:_("bUgya M0 j",{fPhJX:s})})),(!l||s)&&e)},te=e=>i.createElement(z,{position:J},i.createElement(ee,e)),re={ad:"cuyLs f j u",empty:"fMgcL Xd o S",withTopBorder:"dyqkI",withTopBorderAndReducedMargin:"dxBRo",backgroundedAd:"epRzP o",withMargin:"KEWgN"},ae=({size:e="300x250|300x600|160x600",position:t="rail1",isSticky:r=!0})=>{var{viewportCategory:a}=o(g),n=$(),{ref:s,id:l,isEmpty:d}=F(e,t,n,!1);return"MOBILE"!==a?i.createElement("div",{id:l,className:_(re.ad,"fZiMX",{[re.empty]:d,"bZMXM E":r}),ref:s}):null},ie=({position:e="rail1",...t})=>i.createElement(z,{position:e},i.createElement(ae,Object.assign({position:e},t)));function ne({size:e,...t},{size:r,...a}){return C(t,a)&&C(e,r)}var se={mobile:"300x250|8x8",tablet:"728x90",desktop:"728x90"},le=({size:{mobile:e=se.mobile,tablet:t=se.tablet,desktop:r=se.desktop}=se,position:a="inline1",topDivider:n=null,bottomDivider:s=null})=>{var{viewportCategory:l}=o(g),d=$(),u={MOBILE:e,TABLET:t,DESKTOP:r}[l],{ref:c,id:m,isEmpty:v}=F(u||"",a,d,!1);return u?i.createElement(i.Fragment,null,!v&&n,i.createElement("div",{id:m,ref:c,className:_(re.ad,{[re.empty]:v})}),!v&&s):null},oe=({position:e="inline1",...t})=>i.createElement(z,{position:e},i.createElement(le,Object.assign({position:e},t))),de="footer",ue={mobile:"300x250|8x8",tablet:"728x90",desktop:"970x250|728x90"},ce=({size:{mobile:e=ue.mobile,tablet:t=ue.tablet,desktop:r=ue.desktop}=ue,additionalWrapperClass:a,topDivider:n=null,bottomDivider:s=null})=>{var{viewportCategory:l}=o(g),d=$(),u={MOBILE:e,TABLET:t,DESKTOP:r}[l],{ref:c,id:m,isEmpty:v}=F(u||"",de,d,!1);return u?i.createElement(i.Fragment,null,!v&&n,i.createElement("div",{id:m,ref:c,className:_(re.ad,{[re.empty]:v},a&&re[a])}),!v&&s):null},me=e=>i.createElement(z,{position:de},i.createElement(ce,e)),ve="header",pe={mobile:null,tablet:"728x90",desktop:"728x90|970x66"},Ee=()=>{var{cdnPrefix:e}=o(b),t=`${e}/img2/brand_refresh/Tripadvisor_lockup_horizontal.svg`;return i.createElement("div",{className:_(re.ad,"ccRez Gc")},i.createElement("div",{className:"cXSTn"},i.createElement("img",{src:t,alt:"Tripadvisor"})),i.createElement("div",{className:"dCvxA Cj Wh S7"},i.createElement(k,{id:"brand_save_money_we_search_200"})))},fe=({children:e=i.createElement(Ee,null),reserveHeight:t=!0,size:{mobile:r=pe.mobile,tablet:a=pe.tablet,desktop:n=pe.desktop}=pe,additionalWrapperClass:s})=>{var{viewportCategory:l}=o(g),d=$(),u={MOBILE:r,TABLET:a,DESKTOP:n}[l],{ref:c,id:m,isRendered:v,isEmpty:p}=F(u||"",ve,d,!0);return u?i.createElement("div",{className:_({"vvJku f e u j":t},s&&re[s])},t&&v&&p&&e,i.createElement("div",{id:m,ref:c,className:_(re.ad,{[re.empty]:v&&p})})):null},ge=e=>i.createElement(z,{position:ve},i.createElement(fe,e));return e({useAd:F,useInlineSizeVariant:Z,useInterval:H,usePageTargeting:G,usePageVisibility:V,useRefreshKey:$}),[()=>{z=N,P=O,M=l({}),B=te,D=m(ie),I=m(oe,ne),e({AdErrorBoundary:z,AdTargetingProvider:W,Adhesion:B,FooterAd:m(me,ne),HeaderAd:m(ge,ne),InlineAd:I,RailAd:D,useAd:F,useInlineSizeVariant:Z,useInterval:H,usePageTargeting:G,usePageVisibility:V,useRefreshKey:$})},[e=>r=e.ErrorBoundary,e=>(a=e,i=e.default,n=e.useRef,s=e.useMemo,l=e.createContext,o=e.useContext,d=e.useState,u=e.useCallback,c=e.useEffect,m=e.memo),e=>(v=e.usePageTargeting,p=e.AdServer,E=e.PageTargeting),e=>f=e.default,e=>(g=e.Device,b=e.Environment,h=e.Route),e=>(y=e.useLogAdSlotEventOnlyOnce,x=e.useLogAdSlotEvent),e=>R=e.default,e=>w=e.useTabRefresh,e=>T=e.default,e=>_=e.default,e=>A=e.default,e=>(S=e.useLocalize,k=e.UnsafeLocalize),e=>L=e.CircularButton,e=>C=e.shallowEquals]]},["nIW_Rw","cDcdfi","nCvudh","gsKhh7","2R4xv2","wzAQTx","YwNsO_","gzFIw8","S-RL4Q","jSLlaY","jaCyxS","0DsHEV","7yGKf-","XtxvfD"]]);
