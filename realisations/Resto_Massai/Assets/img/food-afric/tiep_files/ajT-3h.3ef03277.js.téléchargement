(this.$WP=this.$WP||[]).push(["ajT-3h",(e,t)=>{"use strict";var a,n,i,r,l,c,m,o,d,g,s,u,p,b,_,E,v,f,C,I,h,T,D,k={gemini_dining_club_control:"DiningClubCommerceButton_Control",gemini_dining_club_2_for_1:"DiningClubCommerceButton_2For1Entree",gemini_dining_club_20_percent:"DiningClubCommerceButton_FixedDiscount",gemini_dining_club_variable_discount:"DiningClubCommerceButton_VariableDiscount"},y=({restaurant:e})=>{var{testVariant:t,priceTestVariant:n}=l({geoId:null==e?void 0:e.geoId}),{localize:r}=b(),m=E(h,null==e?void 0:e.geoId),I=v(h,null==e?void 0:e.geoId),T=_(),{locale:{code:D}}=a.useContext(i),{object:k,promotionPercentage:y}=(null==e?void 0:e.restaurant)||{},{name:B}=k||{},N=c(n),V=a.useMemo((()=>"gemini_dining_club_2_for_1"===t?[r.string("gemini.dc.2for1.rr.commerce.ad.tag.headline"),r.string("gemini.dc.2for1.rr.commerce.ad.tag.sub.headline")]:"gemini_dining_club_20_percent"===t?[r.string("gemini.dc.20p.rr.commerce.ad.tag.headline"),r.string("gemini.dc.2for1.rr.commerce.ad.tag.sub.headline")]:"gemini_dining_club_variable_discount"===t?[r.string("gemini.dc.variable.rr.commerce.ad.tag.headline.param",{percentage:y}),r.string("gemini.dc.variable.rr.commerce.ad.tag.headline")]:null),[t,y,r]),P=a.useCallback((()=>{I({actionType:"click"})}),[I]);return a.createElement("section",{className:"fEQci"},a.createElement("div",{className:"bCGVI f k u"},a.createElement("div",{className:"gaZNF f u"},a.createElement("div",{className:"dHdEZ Nk"},a.createElement(g,{source:"img2/email/Tripadvisor_logoset_bimi.svg",alt:"Tripadvisor logo"})),a.createElement(o,{elementType:"span",variant:"title-04"},a.createElement(p,{id:"gemini.dc.product.name"}))),a.createElement(u,{variant:"secondary"},a.createElement(p,{id:"gemini.dc.rr.commerce.ad.tag"}))),V&&a.createElement(a.Fragment,null,a.createElement(o,{elementType:"p",variant:"title-05",marginTop:"spacing-02",marginBottom:"spacing-02"},a.createElement(p,{id:"gemini.dc.rr.commerce.ad.tag.headline",args:{restaurantName:B}})),a.createElement("ul",{className:"dQOYv"},V.map((e=>a.createElement("li",{key:e},a.createElement(o,{elementType:"span",variant:"title-05"},e)))))),a.createElement(f,{onIsVisibleCallback:()=>m({})},a.createElement(d,{marginTop:"spacing-03",marginBottom:"spacing-03",fullWidth:!0,variant:"commerce",href:`/DiningClub?variant=${null==e?void 0:e.geoId}`,target:"_blank",onClick:P},a.createElement(p,{id:"gemini.dc.rr.footer.cta"}))),a.createElement("div",{className:"fjOkT Ra"},a.createElement(o,{elementType:"p",variant:"supporting-01",color:"primaryText"},a.createElement("b",null,a.createElement(p,{id:"gemini.dc.rr.commerce.ad.tag.blurb.1.part"}))," ",a.createElement(p,{id:"gemini.dc.rr.commerce.ad.tag.blurb.2.part"})," ",a.createElement(s,{href:`/DiningClub?variant=${null==e?void 0:e.geoId}`,target:"_blank",theme:"inline",onClick:P},a.createElement("b",null,a.createElement(p,{id:"gemini.dc.rr.commerce.ad.tag.blurb.3.part",args:{price:n?(null==N?void 0:N.price)||"":T.formatCurrencyInteger(C.MEMBERSHIP_PRICE[D])}}))))))},B=()=>{var[e]=a.useContext(r),t=parseInt(e&&e.params.geoId||"",10),n=parseInt(e&&e.params.detailId||"",10),{currentRestaurant:i,fetchOne:c}=m(),{shouldAdsBeDisplayed:o,isUserSuitableForTest:d}=l({geoId:null==i?void 0:i.geoId});return a.useEffect((()=>{d&&c(t,n)}),[c,t,n,d]),o&&i?a.createElement(T,{restaurant:i}):a.createElement(I,null)};return[()=>{h={itemNameVariants:k},T=y,D=n(((e,t)=>(I.stage(e,t),()=>({}))))(B),e("default",D)},[e=>a=e,e=>n=e.bind,e=>(i=e.Environment,r=e.Route),e=>(l=e.useDiningClubTest,c=e.usePriceTestVariant),e=>m=e.default,e=>o=e.default,e=>d=e.default,e=>g=e.default,e=>s=e.default,e=>u=e.default,e=>(p=e.default,b=e.useLocalize,_=e.useIntlFormatter),e=>(E=e.useDynamicPageImpressionLogger,v=e.useDynamicPageInteractionLogger),e=>f=e.IsVisibleOnce,e=>C=e.default,e=>I=e.default]]},["cDcdfi","RiHMo-","2R4xv2","1GkG4X","lOKOGh","VP50Wc","7yGKf-","BgJkqv","5KqyYa","DCBGY9","0DsHEV","qEkOmT","BLrxBS","wv2G_s","vvOT61"]]);
