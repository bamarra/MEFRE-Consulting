(this.$WP=this.$WP||[]).push(["MCrJhI",(e,l)=>{"use strict";var n,t,a,r,i,o,s,u,c,d,m,f,v,p,g,b,y,h,E,k,C=({menuItemsData:e,variant:l,maxHeight:t,onClose:a,customHorizontalCaretPosition:u,selectedItemKey:p,fullscreenOverlayTitle:b,labelId:y,role:E,itemRole:k,onKeyDown:C,loading:N=!1,isKeyboardMode:I=!1})=>{var{localize:x}=v();f("MOBILE"===n.useContext(r).viewportCategory);var w=n.useRef(null),D=n.useRef(null),T={};if(null!=u&&u<34){var M=34-u;T="leading-bottom-caret"===l||"leading-top-caret"===l?{left:`-${M}px`}:{right:`-${M}px`}}n.useEffect((()=>{var e;return null==(e=D.current)?void 0:e.focus()}),[]),n.useEffect((()=>{var l,n=e.find((e=>e.key===p));if(null!=(null==n||null==(l=n.ref)?void 0:l.current)&&null!=D.current){var t=D.current,a=n.ref.current;if(t.scrollHeight>t.clientHeight){var r=a.offsetTop+a.offsetHeight-(t.offsetTop+t.offsetHeight)+16,i=a.offsetTop-t.offsetTop-16;t.scrollTop=Math.max(r,Math.min(i,t.scrollTop))}}}),[e,p]);var B=e=>{var l;e.target instanceof Node&&null!=(l=w.current)&&l.contains(e.target)||a&&a()};d("click",B,void 0,!0),d("touchstart",B,void 0,!0),c("Escape",a);var H=N?n.createElement("div",{className:"ieQsf f j u e"},n.createElement(o,{marginBottom:"spacing-02",variant:"supporting-01"},x.string("airm_loadingDotDotDot")),n.createElement(g,{variant:"medium"})):n.createElement(n.Fragment,null,n.createElement("ul",{role:E,"aria-labelledby":y,"aria-activedescendant":null!=p?`menu-item-${p}`:void 0,tabIndex:"-1",className:"cpJjC _g z",style:{maxHeight:t},onKeyDown:C,ref:D},e.map((({key:e,ref:l,...t})=>n.createElement("li",{role:"none",key:e},n.createElement(h,Object.assign({},t,{id:`menu-item-${e}`,role:k,tabIndex:"-1",selected:p===e,focused:I&&p===e,ref:l})))))));return null!=b?n.createElement(m,null,n.createElement("div",{className:"bnlHg Gg Za l s f e",style:T,ref:w,"data-menu":"true"},n.createElement("div",{className:"cUgzn"},n.createElement(o,{variant:"title-01",marginBottom:"spacing-02"},b)),n.createElement("div",{className:"vVrTx"},n.createElement(s,{size:"small",variant:"clear",iconName:"times","aria-label":x.string("common_Close"),onClick:a,"aria-live":"polite","aria-busy":N})),H)):n.createElement("div",{className:i("fCMfU Gg Za Ra",{mktHl:"trailing-bottom-caret"===l,eLlYN:"leading-bottom-caret"===l,cWSZV:"trailing-top-caret"===l,boJbV:"leading-top-caret"===l}),style:T,ref:w,"data-menu":"true","aria-live":"polite","aria-busy":N},H)},N=(e,l)=>{return"dropdownButton"===e?t.createElement(u,l):"chip"===e?t.createElement(y,Object.assign({iconName:l.active?"single-chevron-up":"single-chevron-down",iconPosition:"trailing",onKeyDown:l.onKeyDown,onClick:l.onClick,disabled:l.disabled},l.ariaAttributes,{ref:l.ref}),""!==l.children?l.children:null!=(n=l.placeholder)?n:null):e(l);var n},I=({value:e=null,onChange:l=(()=>{}),placeholder:n=null,onMenuClose:i,label:o,selectedDisplayName:s,disabled:u,iconName:c,onOpen:d,menuVariant:m="leading-top-caret",menuMaxHeight:f=300,trigger:v="dropdownButton",fullscreenMobile:p=!1,fullscreenTablet:g=!1,"aria-describedby":b,loading:y=!1,compact:h=!1,...C})=>{var N,I=t.useRef(l);I.current=l;var x,w,D,{viewportCategory:T}=t.useContext(r),M=a(),B=t.useMemo((()=>{if("menu"!==C.mode){var l=C.options.findIndex((l=>l.value===e));return l>=0&&!0!==C.options[l].disabled?l:void 0}}),[C.mode,C.options,e]),H=t.useRef(),[L,S]=t.useState(!1),[W,K]=t.useState(null),P=null!=W?W:B,z=t.useCallback((()=>{L&&(i&&i(),S(!1),K(null),M&&null!=H.current&&H.current.focus())}),[L,M,i]),R=t.useCallback((()=>{null!=d&&d(),S(!0)}),[d]),O=t.useMemo((()=>"menu"===C.mode?C.options.map(((e,l)=>({key:String(l),content:e.displayName,"aria-label":e.label,href:e.href,onClick:l=>{null==e.onClick||e.onClick(l),z()},ref:t.createRef(),disabled:e.disabled,trailingInfo:e.trailingInfo,externalLinkIcon:e.externalLinkIcon,target:e.target,loading:e.loading}))):C.options.map((e=>({key:e.value,content:e.displayName,"aria-label":e.label,onClick:()=>{I.current(e.value),z()},ref:t.createRef(),disabled:e.disabled,trailingInfo:e.trailingInfo,externalLinkIcon:!1})))),[C,z]),$=t.useCallback((()=>{if(null!=P)if("menu"===C.mode){var e=O[P].ref.current;null!=e&&e.click()}else I.current(C.options[P].value);z()}),[z,O,P,C.options,C.mode]),_=t.useCallback((e=>{if(!0!==u){var l=C.options.reduce(((e,l,n)=>!0===l.disabled?e:[...e,n]),[]),n=null!=P?l.indexOf(P):void 0,t=e=>K(l[e]),a=!0;if(L)if("ArrowUp"===e.key)t(null==n||0===n?l.length-1:n-1);else if("ArrowDown"===e.key)t(null==n||n===l.length-1?0:n+1);else if("Home"===e.key)t(0);else if("End"===e.key)t(l.length-1);else if("Enter"===e.key)$();else if("Escape"===e.key)z();else{a=!1;for(var r=String.fromCharCode(e.keyCode).toLowerCase(),i=null!=n?(n+1)%l.length:0,o=0;o<l.length;o++){var s=(i+o)%l.length,c=C.options[l[s]];if((null!=c.label?c.label:c.displayName).toLowerCase().startsWith(r)){t(s),a=!0;break}}}else["ArrowUp","ArrowDown"].includes(e.key)?(R(),null==n&&t(0)):a=!1;a&&(e.preventDefault(),e.stopPropagation())}}),[L,C.options,P,z,$,R,u]);if("menu"===C.mode){var j=null!=P?C.options[P]:null;x=null!=s?s:o||"",w=(null==j?void 0:j.label)||(null==j?void 0:j.displayName)||s,D=null!=j?String(P):void 0,null!=(null==j?void 0:j.trailingInfo)&&null!=w&&(w+=` ${j.trailingInfo}`)}else{var V=null!=P?C.options[P]:null;x=null!=s?s:null==V?void 0:V.displayName,w=(null==V?void 0:V.label)||(null==V?void 0:V.displayName)||x,null!=(null==V?void 0:V.trailingInfo)&&null!=w&&(w+=` ${V.trailingInfo}`),D=null==V?void 0:V.value}var A="menu"===C.mode?"menu":"listbox",G="menu"===C.mode?"menuitem":"option",J=null!=(N=H.current)&&N.offsetWidth?H.current.offsetWidth/2:void 0;return t.createElement("div",{className:h?"bcVNe _T":"MwbTc w _T",onBlur:e=>{M&&e.relatedTarget&&!e.relatedTarget.parentNode.dataset.menu&&z()}},k(v,{children:x||"",active:L,disabled:u,placeholder:null!=n?n:void 0,iconName:c,ariaAttributes:{"aria-haspopup":A,"aria-label":null!=w?`${o}: ${w}`:void 0,"aria-expanded":L||void 0,"aria-describedby":b},onKeyDown:_,onClick:L?$:R,ref:H}),L&&!0!==u&&O.length>0&&t.createElement(E,{menuItemsData:O,selectedItemKey:D,variant:m,maxHeight:"none"!==f?f:void 0,role:A,itemRole:G,onKeyDown:_,onClose:z,customHorizontalCaretPosition:J,loading:y,isKeyboardMode:M,fullscreenOverlayTitle:p&&"MOBILE"===T||g&&"TABLET"===T?o:void 0}))};return[()=>{h=n.forwardRef((({externalLinkIcon:e=!0,content:l,selected:t,focused:a,trailingInfo:r=null,disabled:s=!1,target:u="_self",loading:c=!1,href:d,role:m,...f},v)=>{var g=d?"a":"span";!0===s&&(g="button");var y="button"===g?{type:"button",disabled:s}:{href:d,target:u};return n.createElement(g,Object.assign({},f,{className:i("erjCC _G f z u Pi PW Pv PI _S Wh Wc G- B-",{ddzIh:null!=r,nkSVx:t,NjpWf:a}),"aria-selected":t||void 0,ref:v,"aria-hidden":s||void 0,role:m},y),n.createElement("div",null,n.createElement(o,{elementType:"span",variant:"title-05",color:"inherit"},l),null!=r&&e&&n.createElement("span",null,n.createElement(b,{size:16,name:"external-link-no-box"}))),null!=r&&n.createElement(n.Fragment,null,s&&n.createElement("span",{className:"BSNqZ NL"},n.createElement(b,{size:16,name:"prohibited"})),!s&&!c&&n.createElement(o,{elementType:"span",variant:"title-05",color:"inherit"},r),c&&!s&&n.createElement("span",{className:"Ddrgk"},n.createElement(p,null))))})),E=C,k=N,e("DropdownMenu",I)},[e=>(n=e,t=e.default),e=>a=e.useKeyboardNavigationMode,e=>r=e.Device,e=>i=e.default,e=>o=e.default,e=>(s=e.CircularButton,u=e.DropdownButton),e=>c=e.useKeyboardEvent,e=>d=e.useWindow,e=>m=e.OverlayPortal,e=>f=e.useBlockScroll,e=>v=e.useLocalize,e=>(p=e.Skeleton,g=e.Spinner),e=>b=e.default,e=>y=e.ChipButton]]},["cDcdfi","W3_c4H","2R4xv2","jSLlaY","VP50Wc","7yGKf-","8xs-IB","Dg5_-9","vq6MSq","xegF5W","0DsHEV","Ly5eaD","pyY-iJ","QLckY2"]]);
