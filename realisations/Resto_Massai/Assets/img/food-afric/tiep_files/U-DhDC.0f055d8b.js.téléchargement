(this.$WP=this.$WP||[]).push(["U-DhDC",(e,i)=>{"use strict";var t,s,n,o,r,a,c,l,d,u,v,p,m,S,k={tripId:0},C={Home:"HomeFeed",Profile:"ProfileFeed",Attractions:"AttractionList",Attraction_Review:"AttractionDetail",Attraction_Products:"AttractionList",AttractionProductReview:"AttractionProductReview",Hotels:"HotelList",SmartDeals:"HotelList",HotelHighlight:"HotelList",HotelsList:"HotelList",HotelsNear:"HotelList",Vacation_Packages:"HotelList",Hotel_Review:"HotelDetail",Restaurants:"RestaurantList",Restaurant_Review:"RestaurantDetail",ShowUserReviews:"ShowUserReview",ShowUserReviewsHotels:"ShowUserReview",ShowUserReviewsRestaurants:"ShowUserReview",ShowUserReviewsAttractions:"ShowUserReview",Recent:"Recent",Forums:"Forums",ShowTopic:"Forums",ShowForum:"Forums",Trips:"Trips",Map:"Map",MySaves:"MySaves",LastMinute:"HotelList",LocalMaps:"Map",LocalMapsRedesign:"Map",VacationRentalReview:"VacationRentalDetail"},w=e=>e&&C[e]?C[e].toUpperCase():void 0,h=e=>e&&(w(e)||w(e.replace(/^Mobile/,""))),f=({source:e,pageAsContext:i,saveObject:a,trackingContext:c,withSaveSession:d,withOrganizeSession:p})=>{var[{page:S}]=t.useContext(o),{sessionUuid:k,sessionOrder:C,incrementOrder:w}=t.useContext(l),{sessionUuid:f,sessionOrder:O,incrementOrder:R}=t.useContext(u),g=t.useContext(r).impressionId||"",x=c||i&&S||void 0,{id:U,type:H}=a||{},{isBoosted:T}=t.useContext(n),{tripId:A}=t.useContext(v),I=t.useMemo((()=>({detailId:U?`${U}`:void 0,saveType:H,isBoosted:T,tripId:A})),[U,H,T,A]),y=t.useMemo((()=>d?{sessionType:"SAVE",sessionUuid:k,sessionOrder:C}:p?{sessionType:"ORGANIZE",sessionUuid:f,sessionOrder:O}:null),[O,f,C,k,p,d]),[,L]=s(m);return[t.useCallback(((i,t)=>{var s;d?w():p&&R();var n=I;t&&(n={detailId:`${t.id}`,saveType:t.type});var o,r,a=window.location.pathname,c="Unknown"===x?(null==(s=a.match(/^\/([a-zA-Z0-9_]+)/))?void 0:s[1])||"Home":x,l={elementClick:i.elementClick&&{puid:g,...n,context:c,...y,...i.elementClick},filterClick:i.filterClick&&{puid:g,...i.filterClick},modalSuccess:i.modalSuccess&&{puid:g,...I,context:c,...y,...i.modalSuccess},overflowClick:i.overflowClick&&{puid:g,...i.overflowClick,...y},overflowSuccess:i.overflowSuccess&&{puid:g,...y,...I,...i.overflowSuccess},linkReferenceClick:i.linkReferenceClick&&{puid:g,...i.linkReferenceClick}};return L({interaction:{[e]:(o=l,r=o,["elementClick","modalSuccess"].forEach((e=>{r[e]&&r[e].context&&(r[e].context=h(r[e].context)||null),r[e]&&r[e].saveType&&(r[e].saveType=r[e].saveType.toUpperCase()),r[e]&&r[e].action&&(r[e].action=r[e].action.toUpperCase())})),["elementClick","filterClick","modalSuccess","overflowClick","overflowSuccess"].forEach((e=>{r[e]&&r[e].element&&(r[e].element=r[e].element.toUpperCase())})),["modalSuccess"].forEach((e=>{r[e]&&r[e].fields&&(r[e].fields=r[e].fields.map((e=>e.toUpperCase())))})),r)}})}),[d,p,g,I,x,y,L,e,w,R]),g]},O=({children:e,source:i,pageAsContext:t,saveObject:s,trackingContext:n,withSaveSession:o,withOrganizeSession:r})=>{var[a,c]=f({source:i,pageAsContext:t,saveObject:s,trackingContext:n,withSaveSession:o,withOrganizeSession:r});return e(a,c)},R=()=>{var[e,i]=t.useState({sessionUuid:a(),sessionOrder:0});return t.useMemo((()=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder,incrementOrder:()=>i((e=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder+1}))),resetSession:()=>i({sessionUuid:a(),sessionOrder:0})})),[e])},g=({children:e})=>{var i=S();return t.createElement(l.Provider,{value:i},e)},x=({children:e})=>{var i=S();return t.createElement(u.Provider,{value:i},e)};return[()=>{c={sessionUuid:a(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},l=t.createContext(c),d={sessionUuid:a(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},u=t.createContext(d),v=t.createContext(k),(p=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogInteraction"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"InteractionV4Input"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"logInteraction"},"name":{"kind":"Name","value":"logInteractionV4"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"interaction"},"value":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}}}],"directives":[]}]}}],"loc":{"start":0,"end":133}}')).__key=19431441965389,m=p,O.defaultProps={pageAsContext:!1,saveObject:void 0,trackingContext:void 0},S=R,e({LogInteractionMutation:m,OrganizeSessionProvider:x,OrganizeSessionTrackingContext:u,SaveSessionProvider:g,SaveSessionTrackingContext:l,SponsorshipTrackingContext:v,TripInteraction:O,getInteractionsContext:h,useTripInteraction:f})},[e=>t=e,e=>s=e.useMutation,e=>n=e.default,e=>o=e.Route,e=>r=e.TripTrackingImpression,e=>a=e.uuid]]},["cDcdfi","5X2em-","6KWcSB","2R4xv2","c_rvp5","O-HcBE"]]);
