(this.$WP=this.$WP||[]).push(["Jk5sjx",(e,t)=>{"use strict";var n,i,r,a,o,s,l,c,d,m,p,u,g,I,v,k,h,T,O,N,E,S,A,_,C,f=(e,t,n)=>{var i=new URLSearchParams;i.append("event_name",t),i.append("event_type",e),i.append("attr",JSON.stringify(n)),fetch(`/UserTrackingRecord?${i.toString()}`,{method:"GET",headers:{"content-type":"application/json","x-requested-by":window.JS_SECURITY_TOKEN},credentials:"same-origin"}).then((e=>(e.ok||e.statusText,e))).catch((n=>{console.error(`Error sending tracking event for ${e}-${t}. Err message is: ${n.message}`)}))},L={PAGEVIEW:"PAGEVIEW",START_BOOKING:"START_BOOKING",BOOKING_CONFIRMATION:"BOOKING_CONFIRMATION",PAGEVIEW_FLIGHT:"PAGEVIEW_FLIGHT",START_BOOKING_FLIGHT:"START_BOOKING_FLIGHT",BOOKING_CONFIRMATION_FLIGHT:"BOOKING_CONFIRMATION_FLIGHT",PAGEVIEW_TRAIN:"PAGEVIEW_TRAIN",START_BOOKING_TRAIN:"START_BOOKING_TRAIN",BOOKING_CONFIRMATION_TRAIN:"BOOKING_CONFIRMATION_TRAIN",PAGEVIEW_PACKAGE:"PAGEVIEW_PACKAGE",START_BOOKING_PACKAGE:"START_BOOKING_PACKAGE",BOOKING_CONFIRMATION_PACKAGE:"BOOKING_CONFIRMATION_PACKAGE",DISPLAY_AD_VIEW:"DISPLAY_AD_VIEW",DISPLAY_AD_CLICK:"DISPLAY_AD_CLICK",META_CLICK:"META_CLICK",IB_CLICK:"IB_CLICK",BL_CLICK:"BL_CLICK",IB_CONVERSION:"IB_CONVERSION",APP_INSTALL:"APP_INSTALL",HOTELS_SP_IMPRESSION:"HOTELS_SP_IMPRESSION",HOTELS_SP_CLICK:"HOTELS_SP_CLICK"},P=(e,t)=>{globalThis.require&&globalThis.require(["trjs!taevents"],(()=>{if(e&&t&&window.taq){var i=n().getState(),{tracking:r}=i,a=(e=>{var t=n().getState(),{tracking:i}=t,r={...e};return i.drsInfo&&(r.drs=i.drsInfo),i.uvmScore&&(r.uvm=i.uvmScore),t.route.geo&&(r.geoid=t.route.geo),r})(t);window.taq("init",481409672),r.retargetingUrl&&window.taq("override",`//${r.retargetingUrl}`),i.route.page&&(a.servlet_name=i.route.page),window.taq("track",e,a)}}))},w=e=>{var{children:t,...n}=e;return o.createElement(_,{value:n},t)},G=(e,t=0,n=1)=>{var{current:i}=o.useRef((()=>{B(e)}));return c(i,t,n)},b=(e,t,n)=>{var i=new RegExp(`(-${t}([0-9]+))|([?&]${n}=([0-9]+))`).exec(e);if(i){if(void 0!==i[2])return i[2];if(void 0!==i[4])return i[4]}},R=e=>b(e,"d","detail")||b(e,"g","geo"),K=e=>{var t=/(https?:\/\/[^/]+)?\/([^#.?-]*)/.exec(e);if(t&&void 0!==t[2])return t[2]?t[2]:"Home"},$=e=>{var t=e;return null==t?"":("string"!=typeof t&&(t=t.toString()),t.replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*"))},M=e=>Object.keys(e).map((t=>{var n=e[t];return`${$(t)}.${$(n)}`})).join("*"),y=e=>{var{value:t}=e;t?"number"!=typeof t&&(t=parseFloat(t),Number.isNaN(t)&&(t=0)):t=0;var{nonInteraction:n}=e;"boolean"!=typeof n&&(n=!0===n);var{srcServlet:i}=e;if(i)0===i.indexOf("/")&&(i=i.substring(1));else if(!i&&window&&window.location&&window.location.pathname){var r=/\/([^-]*)/.exec(window.location.pathname);i=r?r[1]:null}null===i&&(i=void 0);var{location:a}=e;a||(a=document&&document.location?R(document.location.href):null),null==a&&(a="null");var{isMemberSignedIn:o}=e;null==o&&(o=!1);var{context:s}=e;void 0===s&&(s="undefined");var l={gac:e.module,gaa:e.action,gal:s,gav:String(t),gani:String(n),gass:i,gasl:a,gapu:e.parentUid,gams:o?"1":"0",gacl:e.commerceClickLocation,gatt:e.trackingTree,bsid:e.bookingSessionId};return Object.keys(l).filter((e=>void 0===l[e])).forEach((e=>delete l[e])),l},D=e=>{var t=n().getState();return{srcServlet:t.tracking.analytics?t.tracking.analytics.url:void 0,location:t.page.detailId||t.page.geoId,parentUid:t.tracking.uid?t.tracking.uid:void 0,isMemberSignedIn:t.auth.isMember,...e}},x={},B=e=>{var t=`${e.module||""}|${e.action||""}|${e.context||""}|${e.value||""}`;if(!x[t]){x[t]=!0;var n=y(D(e)),i=new URLSearchParams(n);a(i)}},V=e=>{var t=y(D(e)),n=new URLSearchParams(t);a(n)},U=e=>{var t,n,i=y(D(e)),{destinationUrl:r}=e;e.dstServlet?t=e.dstServlet:r&&(t=K(r)||void 0,n=R(r)||"");var{gasl:a}=i;a&&"null"===a&&(a="");var o={...i,gads:t||e.dstServlet,gadl:n,gasl:a};return Object.keys(o).filter((e=>void 0===o[e])).forEach((e=>delete o[e])),o},F=(e,t,i)=>{var r=i;r||(r=n().getState().meta.cookieDomain);var a=U(e),{gass:o,gac:s="null",gaa:l="null",gal:c="null"}=a;if(!o)throw new Error(`Src servlet undefined, gac:${s}, gaa:${l}, gal:${c}`);if(!a.gads)throw new Error(`Dst servlet undefined, gac:${s}, gaa:${l}, gal:${c}`);var d=new Date;d.setTime(d.getTime()+5e3);var m=`${encodeURIComponent(M(a))}; domain=${r}; path=/; expires=${d.toUTCString()}`;document.cookie=`EVT=${m}`},H=(e,t)=>{var r,a=t;a||(a=n().getState().meta.cookieDomain);try{if((r=i.get("MEVT")||"").length>0&&(r+="~"),(r+=M(e)).length>1024)throw new Error("MEVT Cookie is full");var o=new Date;o.setTime(o.getTime()+5e3);var s=`${encodeURIComponent(r)}; domain=${a}; path=/; expires=${o.toUTCString()}`;document.cookie=`MEVT=${s}`}catch(e){return!1}return!0},W=(e,t)=>{var n={...t,once:void 0,children:void 0},{target:i,currentTarget:a}=e;if(i&&a&&i instanceof HTMLElement){var o=i;do{if(o instanceof HTMLElement&&o.dataset.encodedUrl){var s=r(o.dataset.encodedUrl),l=document.createElement("a");l.href=s,o.parentElement instanceof HTMLElement&&(l.style.display="none",o.parentElement.appendChild(l)),o=l}if(o instanceof HTMLAnchorElement){var c=o;if(window&&window.location&&window.location.hostname&&window.location.hostname===c.hostname){var d=c.href,m={...n,destinationUrl:d};return void F(m)}}o=o.parentElement}while(o&&o!==a)}V(n)};return[()=>{e("ClickTracker$1",p=class extends o.Component{constructor(...e){super(...e),this.state={clicked:!1},this.click=e=>{this.props.once&&this.state.clicked||(this.props.forceAjax?V(this.props):W(e,this.props),this.setState({clicked:!0}))}}render(){var e=!this.props.once||!this.state.clicked,t=this.props.useSpan?"span":"div";return o.createElement(t,{onClick:e?this.click:void 0},this.props.children)}}),p.defaultProps={once:!0},v=p,e("Track",u=class extends o.Component{constructor(...e){super(...e),this.mountTracked=!1,this.clickTracked=!1}componentDidMount(){var{mount:e}=this.props;!e||e.once&&this.mountTracked||(V(e),e.once&&(this.mountTracked=!0))}render(){var e={className:this.props.className},{click:t,visible:n}=this.props;return!t||t.once&&this.clickTracked||(e.onClick=e=>{W(e,t),this.clickTracked=!0}),n?n.once?o.createElement(l,{onVisible:()=>V(n)},(t=>o.createElement(this.props.element,{...e,ref:t},this.props.children))):o.createElement(s,{onChange:e=>{e&&V(n)}},(t=>o.createElement(this.props.element,{...e,ref:t},this.props.children))):o.createElement(this.props.element,{...e},this.props.children)}}),u.defaultProps={element:"div",className:void 0},(k=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogInteraction"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"InteractionInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"logInteraction"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"interaction"},"value":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}}}],"directives":[]}]}}],"loc":{"start":0,"end":113}}')).__key=64244931516532,h=k,T=f,O=P,(N=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogImpressions"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"impressions"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ImpressionInput"}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"logImpressions"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"impressions"},"value":{"kind":"Variable","name":{"kind":"Name","value":"impressions"}}}],"directives":[]}]}}],"loc":{"start":0,"end":114}}')).__key=0xd4238cb95b19,E=N,S=Object.freeze({}),A=o.createContext(S),({Provider:_,Consumer:C}=A),w.defaultProps={impressionId:void 0,isImpressionLogged:!1},g=class extends o.Component{componentDidMount(){var{isParentComplete:e,logImpression:t}=this.props;e&&t()}componentDidUpdate(e){var{attributes:t,isParentComplete:n,logImpression:i}=this.props,{attributes:r,isParentComplete:a}=e;(!m(t,r)||n&&!a)&&i()}render(){return null}},e("Impression$1",I=class extends o.Component{constructor(e){super(e),this.state={id:void 0,isImpressionLogged:!1}}handleMutationCompletion(e){var t=e&&e.logImpressions&&e.logImpressions.length>0&&e.logImpressions[0],n={isImpressionLogged:!0,...t?{id:t}:{}};this.setState(n)}render(){var{source:e,attributes:t,children:n}=this.props,{id:i,isImpressionLogged:r}=this.state;return o.createElement(C,null,(a=>{var s=t[e],l=Object.keys(a).length>0,c=a.impressionId||null,m=!l||a.isImpressionLogged,p={[e]:s,parentId:c||null};return o.createElement(o.Fragment,null,o.createElement(d,{query:E},(({executeMutation:e})=>o.createElement(g,{attributes:p,isParentComplete:m,logImpression:()=>{s&&(this.setState({isImpressionLogged:!1}),e({impressions:[p]}).then((({data:e})=>e&&this.handleMutationCompletion(e))))}}))),o.createElement(w,{impressionId:i,isImpressionLogged:r},n))}))}}),e({ClickTracker:v,Impression:I,LogInteraction:h,Track:u,TrackingImpression:A,TrackingImpressionContext:C,TrackingImpressionContextProvider:w,UseGARecordImpression:G,addMevtCookie:H,createGARecordAJAXObj:y,createGARecordCookieObj:U,default:V,encodeDotStar:M,escapeDotStar:$,getArgFromUrl:b,getLocationFromTAUrl:R,getServletFromTAUrl:K,holisticEvents:L,trackClick:W,trackEventAJAXOnPageOnce:B,trackEventCookie:F,trackEventWithContext:T,trackHolisticEvent:O})},[e=>n=e.getStore,e=>i=e.default,e=>r=e.default,e=>a=e.enqueue,e=>o=e,e=>(s=e.default,l=e.HasBeenVisible,c=e.useOnVisible),e=>d=e.Mutation,e=>m=e.default]]},["aunxON","vmXh3M","dROhDJ","fsml46","cDcdfi","BLrxBS","5X2em-","YwNsO_"]]);
