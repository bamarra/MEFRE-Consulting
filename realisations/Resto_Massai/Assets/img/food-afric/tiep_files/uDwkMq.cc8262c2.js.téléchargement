(this.$WP=this.$WP||[]).push(["uDwkMq",(e,a)=>{"use strict";var t,l,r,i,u,n,s,m,c,o,d,v,p,f,_,h,g,E,N,b,T,k,x,C,y,D,S,L,P={firstName:{value:"",isRequired:!0},lastName:{value:"",isRequired:!0},phoneNumber:{value:"",isRequired:!0},email:{value:"",isRequired:!0}},R=()=>s(P,y),q=({children:e})=>{var a=D();return t.createElement(L.Provider,{value:a},e)},I="fskyt F-",w=(e,a)=>{var{state:t,update:l}=r(L),i=t[e];n((()=>{i.isDirty||i.value===a||l(e,{value:a})}),[e,a,l])},O=({initialFirstName:e="",initialLastName:a="",initialEmail:l="",initialPhoneNumber:n="",checkoutType:s,onChangeCallback:m,isModal:c,allowEmailEdit:o=!1,freeTrialSubscription:d=!1,optimusCashbackSelected:y=!1,toggleCashbackRewardSMSOptIn:D,isCashbackRewardSMSOptIn:S=!1})=>{var{state:{firstName:P,lastName:R,phoneNumber:q,email:O},update:B}=r(L),F=m?(e,a)=>{m(),B(e,a)}:B,{localize:V}=N(),[A,M]=i(P.value),[H,U]=i(R.value),[z,K]=i(q.value),[W,$]=i(O.value),[,{uid:G}]=r(f),{funnelKey:Y}=r(_),j=b(),J=T(),Q=u((e=>{var a={formFieldChange:{funnelKey:Y,pageviewUid:G,formName:"TravelerDetails",fieldName:e.field}};switch(s){case"STANDALONE":J({OptimusStandaloneCheckout:a});break;case"HOTEL":J({OptimusHotelCheckout:a})}}),[s,Y,J,G]),X=u((()=>{var t=[{fieldName:"firstName",isPrefilled:!!e},{fieldName:"lastName",isPrefilled:!!a},{fieldName:"email",isPrefilled:!!l},{fieldName:"phoneNumber",isPrefilled:!!n}],r=t.some((e=>e.isPrefilled));s&&j({optimusCheckoutForm:{flow:s,funnelKey:Y,pageviewUid:G,formName:"TRAVELERDETAILS",isPrefilled:r,formFields:t}})}),[s,Y,j,e,a,l,n,G]);w("firstName",e),w("lastName",a),w("email",l),w("phoneNumber",n);var Z=c?"supporting-03":"title-05";return t.createElement(v,{onIsVisibleCallback:X},t.createElement("form",null,t.createElement(p,{variant:c?"title-04":"title-03",elementType:"h2",marginBottom:"spacing-04"},t.createElement(E,{id:"plus_checkout_traveler_details_heading"})),t.createElement(h,{space:"spacing-03"},t.createElement(g,{display:"flex",flexDirection:["column","column","row"],alignItems:"stretch"},t.createElement("div",{className:I},t.createElement(x,{id:"tdf-first",label:t.createElement(p,{variant:Z},t.createElement(k,null,t.createElement(E,{id:"plus_checkout_first_name_field"}))),type:"text",value:P.value,onChange:e=>F("firstName",{value:e.currentTarget.value}),errorText:P.isError?V.string("plus_checkout_error_state_first_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==A&&(Q({field:"FirstName"}),M(e.currentTarget.value)),B("firstName",{isDirty:!0})}})),t.createElement(g,{marginTop:"spacing-03",marginLeft:"spacing-03"}),t.createElement("div",{className:I},t.createElement(x,{id:"tdf-last",label:t.createElement(p,{variant:Z},t.createElement(k,null,t.createElement(E,{id:"plus_checkout_last_name_field"}))),type:"text",value:R.value,onChange:e=>F("lastName",{value:e.currentTarget.value}),errorText:R.isError?V.string("plus_checkout_error_state_last_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==H&&(Q({field:"LastName"}),U(e.currentTarget.value)),B("lastName",{isDirty:!0})}}))),t.createElement(h,{space:"spacing-01"},t.createElement(x,{id:"tdf-phone",label:t.createElement(p,{variant:Z},t.createElement(k,null,t.createElement(E,{id:"plus_checkout_phone_number_field"}))),type:"tel",value:q.value,onChange:e=>F("phoneNumber",{value:e.currentTarget.value}),errorText:q.isError?V.string("plus_checkout_error_state_phone_number"):void 0,onBlur:e=>{e.currentTarget.value!==z&&(Q({field:"PhoneNumber"}),K(e.currentTarget.value)),B("phoneNumber",{isDirty:!0})}}),y&&t.createElement(C,{value:"cashbackRewardSMSOptIn",checked:S,label:t.createElement(p,{variant:"supporting-01",color:"secondaryText"},t.createElement(E,{id:"optimus.checkout.vf_sms_opt_in_checkbox"})),onToggle:D})),t.createElement(x,{id:"tdf-email",label:t.createElement(p,{variant:Z},o?t.createElement(k,null,t.createElement(E,{id:"plus_checkout_email_field"})):t.createElement(E,{id:"plus_checkout_email_field"})),type:"email",value:O.value,onChange:e=>F("email",{value:e.currentTarget.value}),errorText:O.isError?V.string("plus_checkout_error_state_email"):void 0,onBlur:e=>{e.currentTarget.value!==W&&(Q({field:"Email"}),$(e.currentTarget.value)),B("email",{isDirty:!0})},helperText:(()=>{var e;if(null!=(e=O.value)&&e.length)return"HOTEL"===s?V.string("plus_checkout_hotel_email_disclaimer_text",{email:O.value}):d?V.string("plus_free_trial_checkout_membership_email_disclaimer_text",{email:O.value}):V.string("plus_checkout_subscription_email_disclaimer_text",{email:O.value})})(),readOnly:!o}))))};return[()=>{y={firstName:c,lastName:c,phoneNumber:o,email:d},D=R,S={state:{firstName:m.required,lastName:m.required,phoneNumber:m.required,email:m.required},update:()=>{},validate:()=>!1,setHasError:()=>{},resetAll:()=>{}},e({TravelerDetails:L=l(S),TravelerDetailsProvider:q,default:O})},[e=>(t=e.default,l=e.createContext,r=e.useContext,i=e.useState,u=e.useCallback,n=e.useEffect),e=>(s=e.default,m=e.defaults),e=>(c=e.nameValidator,o=e.phoneValidator,d=e.emailValidator),e=>v=e.IsVisibleOnce,e=>p=e.default,e=>f=e.Route,e=>_=e.FunnelTracking,e=>(h=e.Stack,g=e.Box),e=>(E=e.default,N=e.useLocalize),e=>b=e.useImpressionLogger,e=>T=e.useInteractionLogger,e=>k=e.RequiredLabel,e=>x=e.TextInput,e=>C=e.Checkbox]]},["cDcdfi","8fiGCU","ivxRiU","BLrxBS","VP50Wc","2R4xv2","ETqDaL","SzaY02","0DsHEV","30t50h","fsml46","AFIA6D","7bbexq","MsxLpS"]]);
