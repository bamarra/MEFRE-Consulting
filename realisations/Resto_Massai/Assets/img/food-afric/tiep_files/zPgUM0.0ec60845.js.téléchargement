(this.$WP=this.$WP||[]).push(["zPgUM0",(e,t)=>{"use strict";var s,a,n,i,o,r,l,c,d,u,p,h,m,v,y,g,T,f,E,C,S,I,k,N,R,O,_,A,F,b,w,x,L,P,D,M,H,Y,K,j,B,V,z,G,J,U,$,Q,W,q,X=(e,t,s,a)=>{var n=[t,s].filter((e=>!!e)).join(", ");return"full_address"===e?a?`${a}, ${n}`:n:"parent_geos"===e?n:""},Z={geo:"GEO",nbrhd:"NEIGHBORHOOD",attr:"ATTRACTION",hotel:"ACCOMMODATION",eat:"EATERY",air:"AIRPORT",vr:"VACATION_RENTAL",al:"AIRLINE",ship:"SHIP",cruise_line:"CRUISE_LINE",car:"CAR_RENTAL_OFFICE",act:"ATTRACTION_PRODUCT",uni:"UNIVERSITY",shop:"SHOPPING",general_hospital:"GENERAL_HOSPITAL",port:"PORT",ferry:"FERRY",corp:"CORPORATION"},ee=({fetchers:e,context:t,children:s,onResultsChange:a,filters:d,runOnInit:u=!1})=>{var[p,h]=n(Object.freeze({})),[m,v]=n(""),y=i(),g=i(a);o((()=>{g.current=a}),[a]);var T=i([]),[f,E,C]=r((()=>{var t=e.filter((e=>"typeaheadjson"===e.id)),s=[],a="",n=8;if(t.length){var i,o=null==(i=t[0])?void 0:i.props;o&&(o.types&&o.types.forEach((e=>{e in Z&&s.push(Z[e])})),a=o.source,n=o.max)}if(s.length===T.current.length){for(var r=0;r<s.length;r++)if(s[r]!==T.current[r]){T.current=s;break}}else T.current=s;return[a,n,T.current]}),[e]),S=r((()=>{var t=e.filter((e=>"typeaheadjson"===e.id));if(t.length){var s,a=null==(s=t[0])?void 0:s.props;return a&&a.parentids?a.parentids[0]:1}return 1}),[e]),I=r((()=>({geoId:S})),[S]),{results:k}=c(m,f,I,"LocationTypeahead",E,C),N=r((()=>k.results.map((e=>{var{title:t,subtitle:s,searchText:a,url:n,locationId:i,trackingPlaceType:o}=e,r="string"==typeof t&&"string"==typeof s?b("full_address",t,s||""):"";return{type:o||"",value:(i||"").toString(),url:n,name:r,details:{name:a,parent_name:"string"==typeof s?s:null}}}))),[k]),R=l((()=>{var t={};e.forEach((e=>{var s="typeaheadjson"===e.id?N:e.getResults();t[e.id]=s?s.filter((e=>e&&(d||[]).every((t=>t(e))))):s})),h(t)}),[e,d,N]),O=i(e),_=i(R);o((()=>{_.current=R,O.current=e})),o((()=>{_.current()}),[N]),o((()=>{g.current&&g.current(p)}),[p]);var A=l((s=>{e.forEach((e=>{"typeaheadjson"===e.id&&""!==s?(v(s),R()):e.fetch(s,t,R)}))}),[e,t,R]);return o((()=>{u&&A("")}),[]),o((()=>{y.current?O.current.forEach((e=>{var s=e;s.onContextChange&&"function"==typeof s.onContextChange&&s.onContextChange(t,_.current)})):y.current=!0}),[t]),s?s(p,A):null},te="recentlyviewed",se=["act","air","al","ship","cruise_line","car","attr","eat","geo","hotel","nbrhd"],ae="typeaheadjson",ne={reversedSubtitle:"bApLi",subtitle:"fIbVC",result:"eeucj",rescue:"bKqMK",rescueResult:"fYyFs",active:"crqrs",noPadding:"dzfnE",narrow:"sEHaL",leftIcon:"cLtPC H3",resultTitle:"cASXp F1",rightIcon:"buQzJ _Q",verified:"bWoHK"},ie=e=>{var t=[ne.result];e.active&&t.push(ne.active),e.paddingStyle&&t.push(ne[e.paddingStyle]),e.isRescue&&t.push(ne.rescue);var a=e.subtitle?s.createElement("span",{className:e.reverseSubtitle?ne.reversedSubtitle:ne.subtitle},e.subtitle):void 0,n=e.iconName?s.createElement("span",{className:ne.leftIcon},s.createElement(h,{name:e.iconName,size:18})):void 0,i=e.chevronName?s.createElement("span",{className:ne.rightIcon},s.createElement(h,{name:e.chevronName,size:16})):void 0,o=e.verifiedIcon?s.createElement("span",{className:ne.verified}):void 0;return s.createElement("div",{className:t.join(" ")},n,s.createElement("span",{className:p(ne.resultTitle,{[ne.rescueResult]:e.isRescue})},e.reverseSubtitle&&a,e.title,o,!e.reverseSubtitle&&a),i)},oe=e=>{switch(e){case"HOTEL":return"hotels";case"EATERY":return"restaurants";case"ATTRACTION":return"attractions";case"UNIVERSITY":return"classes-workshops";case"TRAIN_STATION":return"train";case"AIRPORT":return"flights";case"THEME_PARK":return"amusement-parks";case"ACTIVITY":return"activities";case"SHOPPING":return"shopping-bag";case"PORT":return"ports";case"GENERAL_HOSPITAL":return"hospital";case"FERRY":return"cruises";case"CORPORATION":return"office";case"BRAND":return null;case"NEIGHBORHOOD":return"neighborhoods-fill";case"AIRLINE":return"flights";case"SHIP":return"cruises";case"CAR_RENTAL_OFFICE":return"parking";case"GEO":default:return"map-pin-fill"}},re=e=>oe(e)||"",le=e=>{var{localize:t}=m(),a=t.string("mobile_no_results_found_8e0");return s.createElement("div",{className:p("dGAYz n Ci",{fetWR:e.small})},a)},ce={geos:"GEO",neighborhoods:"NEIGHBORHOOD",attractions:"ATTRACTION",hotels:"HOTEL",vr:"VACATION_RENTAL",restaurants:"EATERY",airports:"AIRPORT",airlines:"AIRLINE",cruise_lines:"CRUISE_LINE",attraction_products:"ACTIVITY"},de=({title:e})=>s.createElement("div",{className:"DHioa S2 n Ci"},e),ue=e=>{var{localize:t}=m();return s.createElement(z,Object.assign({},e,{localize:t}))},pe=({selectedLocations:e,onClose:t})=>{var[{data:a}]=E({query:$,variables:{locationIds:Array.from(e.keys()).map((e=>parseInt(e,10)))},requestPolicy:"cache-and-network"});return a&&a.locations&&a.locations[0]?s.createElement(s.Fragment,null,a.locations.map((e=>(e=>{var a,n,i,o,r,l;switch(n="CITY"===(null==e?void 0:e.placeType)?null==e||null==(i=e.additionalNames)?void 0:i.longOnlyParent:null==e||null==(o=e.parent)||null==(r=o.additionalNames)?void 0:r.long,null==e?void 0:e.placeType){case"ACCOMMODATION":l="hotels";break;case"ATTRACTION":l="attractions";break;case"ACTIVITY":l="activities";break;case"EATERY":l="restaurants";break;case"CITY":l="globe-world";break;default:l=""}var c="60px";return s.createElement("div",{key:`poi_tag_${null==e?void 0:e.locationId}`,className:"dOZhE f R2 B1 BB hiHUP"},s.createElement("div",{className:"cHwUJ f e j Ne _n"},null!=e&&e.thumbnail?s.createElement(C,{sources:null==e||null==(a=e.thumbnail)?void 0:a.photoSizes,width:c,height:c,notLazy:!1,borderRadius:"2px"}):s.createElement("div",{style:{width:c,height:c}},s.createElement("div",{className:"bdLDn"},s.createElement("span",{className:"cdXwh X1 R2 H0"},l?s.createElement(h,{name:l,size:60,color:"onDarkIcon"}):null)))),s.createElement("div",{className:"emCYa P o"},s.createElement("div",{className:"dfHmX W o"},s.createElement("div",{className:"dVTwM MB b W o q"},null==e?void 0:e.name),s.createElement("div",{className:"eKJtE q"},n))),t&&null!=e&&e.locationId?s.createElement("button",{className:"fObHi _S",onClick:()=>{null!=e&&e.locationId&&t(e.locationId.toString())}},s.createElement(h,{name:"times"})):null)})(e)))):null},he=e=>{var t,a,[n,i]=s.useState(""),[o,r]=s.useState(!1),[l,c]=s.useState(!1),[d,u]=s.useState(!1),v=new P("",""),y=s.useCallback(((s,n)=>{if(u(!0),n&&"location_id"===n.type&&n.value){var o=String(n.value),r=new Map(e.selectedLocations);if(!r.has(o)){if(r.set(o,n),e.maxLocations>0&&r.size>e.maxLocations){var l=Array.from(r.keys())[0];r.delete(l)}e.selectionChanged(r)}i(""),a("   "),t&&t.focus()}}),[e,t,a]),f=s.useCallback((t=>{var s=t&&t.typeaheadjson&&t.typeaheadjson.length>0;s&&!l?(e.hasResultsChanged&&e.hasResultsChanged(!0),c(!0)):!s&&l&&(e.hasResultsChanged&&e.hasResultsChanged(!1),c(!1))}),[e,l]),E=s.useCallback((t=>{var s=new Map(e.selectedLocations);s.delete(t),e.selectionChanged(s)}),[e]),C=new M({interleaved:!0,types:se,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:8,scoreThreshold:.8}),{localize:S}=m();return s.createElement(w,{fetchers:[C],onResultsChange:f},((l,c)=>(a=c,s.createElement("div",{className:`bCmrz ${e.className?e.className:""}`},s.createElement("div",{className:"fpwpm "+(o?"ellys":""),onClick:()=>t&&t.focus()},s.createElement("span",{className:"fodhm"},s.createElement(h,{name:"search"})),s.createElement(x,{inputComponentType:T,inputComponentClassName:"ylSwK _J",value:n,onChange:e=>{u(!1),i(e)},onQueryChange:e=>{a(e)},onFocus:t=>{r(!0),e.onFocus&&e.onFocus(t)},onBlur:t=>{r(!1),e.onBlur&&e.onBlur(t)},searchDelay:50,placeholder:0===e.selectedLocations.size||e.selectedLocations.size===e.maxLocations?S.string("post_video_typeahead_placeholder_text_search"):S.string("post_video_location_typeahead_add_location"),onRef:e=>{t=e}})),l&&l.typeaheadjson&&l.typeaheadjson.length>0&&!d?s.createElement("div",{className:"fMCKs w Gi Za"},s.createElement(g,null,l&&l.typeaheadjson?l.typeaheadjson.map((e=>(t,a)=>s.createElement(V,{result:e,tracker:v,onMouseMove:a,onSelection:y,active:t,key:`result=${e.value}`,includeIcon:!0}))):[])):null,e.showLocationsAsPoiObjects?s.createElement(Q,{selectedLocations:e.selectedLocations,onClose:E}):Array.from(e.selectedLocations.entries()).map((([e,t])=>s.createElement("div",{className:p("ePFVR S","dDrjX Gi H1 c Wc _S"),key:e,onClick:()=>E(e)},t.displayValue)))))))},me=e=>{var[t,a]=s.useState(e.selectedLocation.displayValue||""),n=new M({interleaved:!0,types:["geo"],filter:"cities"===e.mode?["nobroad"]:void 0,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:e.max}),{localize:i}=m(),o=[n];return e.includeWorld&&o.unshift(new q(i.string("dual_search_worldwide"))),s.createElement(G,{fetchers:o,className:e.className,typeaheadTextInputValue:t,selectionChanged:t=>{e.selectionChanged(t),a(t.displayValue||"")},textInputChanged:t=>{e.textInputChanged&&e.textInputChanged(t),""===t&&e.selectionCleared&&e.selectionCleared(),a(t)},inputId:e.inputId,iconType:e.iconType,placeHolder:e.placeholder,onFocus:e.onFocus,onBlur:e.onBlur,closeDropdownOnClickOutside:e.closeDropdownOnClickOutside,resultsAbove:e.resultsAbove},((e,t,a)=>s.createElement(g,null,[...e.worldwide||[],...e.typeaheadjson||[]].map((e=>(n,i)=>s.createElement(V,{result:e,tracker:t,onMouseMove:i,onSelection:a,active:n,key:`result=${e.value}`,includeIcon:!0}))))))};return[()=>{b=X,w=ee,e("TypeaheadTextInput$1",S=class extends s.Component{constructor(...e){super(...e),this.onChange=(e,t)=>{if(this.props.onChange&&this.props.onChange(t),(!e||e.keyCode!==d.KEY_ENTER)&&this.currentQuery!==t){if(e)switch(e.keyCode){case d.KEY_DOWN:case d.KEY_UP:case d.KEY_ESCAPE:case d.KEY_TAB:case d.KEY_CAPSLK:case d.KEY_LEFT:case d.KEY_RIGHT:case d.KEY_META:case d.KEY_SHIFT:case d.KEY_CTRL:return}this.updateSearchTimeout&&clearTimeout(this.updateSearchTimeout),this.currentQuery=t,this.updateSearchTimeout=setTimeout((()=>{this.props.onQueryChange&&this.props.onQueryChange(t)}),this.props.searchDelay)}},this.updateSearchTimeout=void 0,this.currentQuery=void 0}render(){var e={id:this.props.id,name:this.props.name,value:this.props.value,type:this.props.type,className:this.props.inputComponentClassName,fontSize:this.props.fontSize,lineHeight:this.props.lineHeight,placeholder:this.props.placeholder,onChange:this.onChange,onKeyUp:this.onChange,onCompositionEnd:this.onChange,onInteractionStart:this.props.onInteractionStart,onSelect:this.props.onSelect,onFocus:this.props.onFocus,onBlur:this.props.onBlur,focusOnMount:this.props.focusOnMount,focusOnUpdate:this.props.focusOnUpdate,onRef:this.props.onRef,hideAutoComplete:this.props.hideAutoComplete,autoCompleteIdentifier:this.props.autoCompleteIdentifier,disabled:this.props.disabled};return s.createElement(this.props.inputComponentType,e)}}),S.defaultProps={name:void 0,value:void 0,type:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,hideAutoComplete:!1,autoCompleteIdentifier:void 0,searchDelay:250,onQueryChange:void 0,onInteractionStart:void 0,onFocus:void 0,onBlur:void 0,onRef:void 0,onSelect:void 0,disabled:!1},x=S,e("TypeaheadTextArea$1",I=class extends s.Component{constructor(...e){super(...e),this.onChange=(e,t)=>{if(this.props.onChange&&this.props.onChange(e,t),(!e||e.keyCode!==d.KEY_ENTER)&&this.currentQuery!==t){if(e)switch(e.keyCode){case d.KEY_DOWN:case d.KEY_UP:case d.KEY_ESCAPE:case d.KEY_TAB:case d.KEY_CAPSLK:case d.KEY_LEFT:case d.KEY_RIGHT:case d.KEY_META:case d.KEY_SHIFT:case d.KEY_CTRL:return}this.updateSearchTimeout&&clearTimeout(this.updateSearchTimeout),this.currentQuery=t,this.updateSearchTimeout=setTimeout((()=>{this.props.onQueryChange&&this.props.onQueryChange(t)}),this.props.searchDelay)}},this.updateSearchTimeout=void 0,this.currentQuery=void 0}render(){var e={id:this.props.id,name:this.props.name,value:this.props.value,className:this.props.inputComponentClassName,rows:this.props.rows,cols:this.props.cols,placeholder:this.props.placeholder,disabled:this.props.disabled,focusOnMount:this.props.focusOnMount,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onChange:this.onChange,onKeyUp:this.onChange,onKeyDown:this.onChange,onCompositionEnd:this.onChange,onInteractionStart:this.props.onInteractionStart,onRef:this.props.onRef,maxLength:this.props.maxLength,autoCompleteIdentifier:this.props.autoCompleteIdentifier,hideAutoComplete:this.props.hideAutoComplete};return s.createElement(this.props.inputComponentType,e)}}),I.defaultProps={name:void 0,value:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,searchDelay:250,onQueryChange:void 0,onInteractionStart:void 0,onFocus:void 0,onBlur:void 0,onRef:void 0},L=I,e("TypeaheadTracking$1",k=class{constructor(e,t){this.interactionStart=void 0,this.uiOrigin=void 0,this.searchSessionId=void 0,this.setInteractionStart=e=>{this.interactionStart=e},this.createTrackingData=({eventType:e,userInteractionType:t,selectedItem:s})=>{var a=s&&s.query,n=s&&s.value,i=s&&s.url,o=s&&s.resultIndex,r=s&&s.type,l=s&&s.data_type,c=s&&s.totalCount,d=s&&s.document_id,u={action:"RECORD",eventType:e,uiOrigin:this.uiOrigin,type:r,value:n,source:this.uiOrigin,startTime:String(this.interactionStart),selDepth:isNaN(o)?void 0:o+1,isChild:"false",totalNum:c?String(c):void 0,userInteractionType:t,scope:"1",query:a,dataType:l,url:i,searchSessionId:this.searchSessionId,documentId:d},p={};return Object.keys(u).forEach((e=>{null!=u[e]&&(p[e]=String(u[e]))})),p},this.ajaxTrack=e=>{var t=this.createTrackingData(e);fetch(`/TypeAheadJson?${new URLSearchParams(t).toString()}`,{credentials:"same-origin"})},this.trackInteractionStart=()=>{this.ajaxTrack({eventType:"start",userInteractionType:"start"})},this.trackSelection=(e,t)=>{this.ajaxTrack({eventType:"select",userInteractionType:t,selectedItem:e})},this.uiOrigin=e,this.searchSessionId=t}}),P=k,e("RecentlyViewedFetcher$1",N=class{constructor({categories:e,limit:t}){this.id=te,this.categories=void 0,this.limit=10,this.results=null,this.inFlight=!1,e&&(this.categories=e),t&&(this.limit=t)}getResults(){return this.results}fetch(e,t,s){if(!this.inFlight&&null===this.results){var a=new URLSearchParams({limit:String(this.limit)});this.categories&&this.categories.forEach((e=>a.append("categories[]",e))),this.inFlight=!0,fetch(`/data/1.0/recent?${a.toString()}`,{method:"GET",credentials:"same-origin"}).then((e=>{if(e.ok)return e;throw Error(e.statusText)})).then((e=>e.json())).then((e=>{this.results=e.data.map((e=>({resultType:e.result_type,...e.result_object}))),this.inFlight=!1,s()})).catch((e=>{console.error("recentPrefill",e),this.results=[],this.inFlight=!1,s()}))}}}),D=N,e("TypeaheadJsonFetcher$1",R=class{constructor(e){this.id=ae,this.props=void 0,this.cache=void 0,this.mostRecentTerm=void 0,this.results=null,this.additionalParams=void 0,this.props=e,void 0===this.props.cache&&(this.props.cache=!0),this.props.cache&&(this.cache={})}setAdditionalParams(e){this.additionalParams=e}getResults(){return this.results}fetch(e,t,s){if(this.mostRecentTerm=e,u(e)<3)null!==this.results&&(this.results=null,s());else if(this.cache&&this.cache[e]){var a=this.cache[e];this.results!==a&&(this.results=a,s())}else{var n={action:"API",query:e};Object.keys(this.props).filter((e=>"cache"!==e)).forEach((e=>{var t=this.props[e];t&&(Array.isArray(t)?n[e]=t.join(","):n[e]=String(t))})),this.additionalParams&&(n={...n,...this.additionalParams}),fetch(`/TypeAheadJson?${new URLSearchParams(n).toString()}`,{method:"GET",credentials:"same-origin"}).then((e=>{if(e.ok)return e;throw Error(e.statusText)})).then((e=>e.json())).then((t=>{t&&this.cache&&(this.cache[e]=t),e===this.mostRecentTerm&&(t?(this.results=t.map((e=>({...e,query:this.mostRecentTerm}))),s()):this.results=[])})).catch((()=>{this.results=[],s()}))}}}),R.defaultProps={scope:1,beforeGeoId:1,afterGeoId:1},M=R,ie.defaultProps={subtitle:void 0,active:void 0,iconName:void 0,verifiedIcon:!1,chevronName:void 0,paddingStyle:void 0,isRescue:!1,reverseSubtitle:!1},H=ie,Y=re,le[v]=!0,K=le,e("RecentlyViewedResult$1",O=class extends s.Component{constructor(...e){super(...e),this.onSelect=e=>{var t="click"===e.type?"click":"enter",{tracker:s,onSelection:a,result:n,resultIndex:i}=this.props,{location_id:o,resultType:r}=this.props.result;s.trackSelection({document_id:o,data_type:"LOCATION",fromHistory:!0,type:ce[r]||r,resultIndex:i,...n},t),a&&a(e,{type:"recent_location_id",value:o})},this.iconFromCategoryKey=e=>{switch(e){case"attraction":return"attractions";case"hotel":return"hotels";case"restaurant":return"restaurants";case"geographic":default:return"map-pin-fill"}}}render(){var e,t,a,{result:n}=this.props,{name:i,category:o,ancestors:r=[]}=n,l=b(this.props.addressDisplay,null==(e=r[0])?void 0:e.name,null==(t=r[1])?void 0:t.name,null==n||null==(a=n.address_obj)?void 0:a.street1),c=this.props.includeIcon?this.iconFromCategoryKey(o&&o.key||""):"";return s.createElement(y,{active:!!this.props.active,onMouseMove:this.props.onMouseMove,onSelection:this.onSelect},s.createElement(H,{title:i,subtitle:l,iconName:c,active:this.props.active,paddingStyle:this.props.paddingStyle}))}}),O.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1,includeIcon:!1,paddingStyle:void 0,addressDisplay:"parent_geos",resultIndex:void 0},j=O,de[v]=!0,B=de,e("TypeaheadJsonResult$1",_=class extends s.Component{constructor(...e){super(...e),this.onSelect=e=>{var t="click"===e.type?"click":"enter",{tracker:s,onSelection:a,itemType:n,result:i,resultIndex:o}=this.props,r={resultIndex:o,...i};s.trackSelection(r,t);var{value:l,scope:c,name:d}=i;a&&a(e,{type:n,value:l,displayValue:d,scope:c})}}render(){var e=this.props.result.details||{},t=e.name,a=b(this.props.addressDisplay,e.parent_name,e.grandparent_name,e.address),n=this.props.includeIcon?Y(this.props.result.type):"";return s.createElement(y,{onSelection:this.onSelect,onMouseMove:this.props.onMouseMove,active:this.props.active},s.createElement(H,{title:t,subtitle:a,iconName:n,active:this.props.active,paddingStyle:this.props.paddingStyle}))}}),_.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1,includeIcon:!1,addressDisplay:"parent_geos",paddingStyle:void 0,itemType:"location_id",resultIndex:void 0},V=_,(A=class extends s.Component{constructor(...e){super(...e),this.state={closed:!1,inputFocused:!1,resultSelected:!1},this.onSelection=(e,t)=>{this.setState({closed:!1,resultSelected:!0}),this.setSelection(t)},this.onFocus=e=>{this.setState({closed:!1,inputFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},this.onBlur=e=>{this.setState({inputFocused:!1}),this.props.onBlur&&this.props.onBlur(e)},this.setSelection=e=>{e&&(this.updateSearch(""),this.textInput&&this.textInput.focus(),this.props.selectionChanged(e))},this.handleOnKeyDown=e=>{e.keyCode===d.KEY_TAB&&this.props.closeDropdownOnClickOutside&&this.setState({closed:!0})},this.tracker=new P("",""),this.textInput=void 0,this.updateSearch=void 0,this.hasMounted=!1}componentDidMount(){this.hasMounted=!0}componentWillUnmount(){this.hasMounted=!1}render(){var e=this.props.placeHolder||this.props.localize.string("common_Search");return s.createElement(s.Fragment,null,s.createElement(w,{filters:this.props.filters,fetchers:this.props.fetchers},((t,a)=>{this.updateSearch=a;var n=t&&Object.keys(t).filter((e=>{return!(!(s=t[e])||0===s.length);var s})).length>0,i=this.props.handleEmptyResult&&t.typeaheadjson&&!t.typeaheadjson.length;return s.createElement("div",{className:"eELLK",onKeyDown:this.handleOnKeyDown},s.createElement("span",{className:"fRWVi H_"},s.createElement(h,{name:this.props.iconType?this.props.iconType:"search",size:18})),s.createElement(x,{inputComponentType:T,inputComponentClassName:p("beEfl w S4 R2 z _J","cXkhg",this.props.className),id:this.props.inputId,value:this.props.typeaheadTextInputValue,type:this.props.inputType,onChange:e=>{this.setState({closed:!1,resultSelected:!1}),this.props.textInputChanged(e)},onQueryChange:e=>{a(e)},onFocus:this.onFocus,onBlur:this.onBlur,searchDelay:50,placeholder:e,onRef:e=>{this.textInput=e,this.props.onRef(e)},autoCompleteIdentifier:this.props.autoCompleteIdentifier,hideAutoComplete:this.props.hideAutoComplete}),(n||i)&&!1===this.state.resultSelected&&!this.state.closed&&s.createElement("div",{className:p("dJGrt Za w z",{eYZqW:this.props.resultsAbove})},this.props.children(t,this.tracker,this.onSelection)))})),s.createElement(f,{event:"click",callback:()=>{this.hasMounted&&this.props.closeDropdownOnClickOutside&&!this.state.inputFocused&&this.setState({closed:!0})}}))}}).defaultProps={placeHolder:null,className:void 0,inputType:void 0,iconType:"search",onFocus:void 0,onBlur:void 0,itemType:"location_id",onRef:()=>{},closeDropdownOnClickOutside:!0,resultsAbove:!1},z=A,ue.defaultProps={placeHolder:null,className:void 0,inputId:void 0,inputType:void 0,iconType:"search",onFocus:void 0,onBlur:void 0,itemType:"location_id",onRef:()=>{},closeDropdownOnClickOutside:!0,resultsAbove:!1},G=ue,(F=class extends a.Component{constructor(...e){super(...e),this.state={textInputValue:this.props.selectedLocation.displayValue||""},this.onResultSelected=e=>{this.props.selectionChanged(e),this.setState({textInputValue:this.props.clearValueOnSelection?"":e.displayValue||""})},this.getTypeaheadJsonFetcher=()=>new M({interleaved:!0,types:this.props.locationTypes,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:this.props.max,scoreThreshold:.8,parentids:this.props.parentids||[],scope:1,beforeGeoId:1,afterGeoId:1}),this.textInputChanged=e=>{this.setState({textInputValue:e})},this.typeaheadJsonFetcher=this.getTypeaheadJsonFetcher()}componentDidUpdate(e){var t,s;(t=e.parentids||[])===(s=this.props.parentids||[])||t.length===s.length&&t.every(((e,t)=>e===s[t]))||(this.typeaheadJsonFetcher=this.getTypeaheadJsonFetcher())}render(){var{trailingItem:e}=this.props;return a.createElement(G,{fetchers:[this.typeaheadJsonFetcher],typeaheadTextInputValue:this.state.textInputValue,selectionChanged:this.onResultSelected,textInputChanged:this.textInputChanged,className:this.props.className,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeHolder:this.props.placeHolder,handleEmptyResult:this.props.handleEmptyResult,onRef:e=>{this.props.onRef&&this.props.onRef(e)},closeDropdownOnClickOutside:this.props.closeDropdownOnClickOutside},((t,s,n)=>{var i=[];return i=t.typeaheadjson&&!t.typeaheadjson.length?[(e,t)=>a.createElement(y,{onMouseMove:t,key:"result='no-result'"},a.createElement(K,{small:!0}))]:[...t.typeaheadjson||[]].map((e=>(t,i)=>a.createElement(V,{addressDisplay:this.props.addressDisplay,result:e,tracker:s,onMouseMove:i,onSelection:n,active:t,key:`result=${e.value}`,includeIcon:!0}))),e&&i.push(e),a.createElement(g,null,i)}))}}).defaultProps={locationTypes:se,className:void 0,onFocus:void 0,onBlur:void 0,placeHolder:void 0,clearValueOnSelection:!1,parentids:[],addressDisplay:"parent_geos",trailingItem:void 0,max:8,handleEmptyResult:!1,onRef:()=>{},closeDropdownOnClickOutside:!0},J=F,(U=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"LocationDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationIds"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locationIds"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"placeType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"thumbnail"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isHorizontal"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"parent"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"additionalNames"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"long"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"additionalNames"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"long"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":380}}')).__key=0xca54a541710f,$=U,pe.defaultProps={onClose:void 0},Q=pe,he.defaultProps={hasResultsChanged:null,maxLocations:0,className:void 0,onFocus:void 0,onBlur:void 0,showLocationsAsPoiObjects:!0},W=he,q=class{constructor(e){this.id="worldwide",this.results=null,this.name="",this.name=e}getResults(){return this.results}fetch(e,t,s){var{name:a}=this;this.results=e.length<3||this.name.toLowerCase().indexOf(e.toLowerCase())<0?null:[{type:"GEO",value:"1",displayValue:a,details:{name:a}}],s()}},me.defaultProps={mode:"all",includeWorld:!0,selectionCleared:()=>{},textInputChanged:()=>{},iconType:"search",placeholder:void 0,max:8,onBlur:void 0,onFocus:void 0,closeDropdownOnClickOutside:!0,resultsAbove:!1},e({BasicResult:H,GeoSelector:me,LocationSelector:J,MultiLocationSelector:W,NoResults:K,RecentlyViewedFetcher:D,RecentlyViewedFetcherId:te,RecentlyViewedResult:j,SectionTitle:B,Selector:G,Typeahead:w,TypeaheadJsonFetcher:M,TypeaheadJsonFetcherId:ae,TypeaheadJsonResult:V,TypeaheadTextArea:L,TypeaheadTextInput:x,TypeaheadTracking:P,getIconFromResultType:Y,getIconNameFromResultType:oe})},[e=>(s=e,a=e.default,n=e.useState,i=e.useRef,o=e.useEffect,r=e.useMemo,l=e.useCallback),e=>c=e.default,e=>d=e,e=>u=e.inputLength,e=>p=e.default,e=>h=e.default,e=>m=e.useLocalize,e=>(v=e.NonNavigableItem,y=e.NavigableListItem,g=e.NavigableList),e=>T=e.ManagedTextInput,e=>f=e.default,e=>E=e.useQuery,e=>C=e.ResponsiveImage]]},["cDcdfi","ABlMo4","h7E4Ym","O-HcBE","jSLlaY","pyY-iJ","0DsHEV","Erjc5t","qfSfGN","Dg5_-9","5X2em-","KwOV1Z"]]);
