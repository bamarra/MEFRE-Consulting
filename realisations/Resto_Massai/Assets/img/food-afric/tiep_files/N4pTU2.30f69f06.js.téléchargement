(this.$WP=this.$WP||[]).push(["N4pTU2",(e,t)=>{"use strict";var a,r,o,i,n,s,l,u,p,d,c,v,h,g,m,f,w,b,y,P,k,R,C,I,N,$,S,E,T,M,x,L,O,j,B;function H(e){var t,r=t=>a.createElement(b,null,(({route:r,navigate:o,previousRoute:i,popping:n})=>a.createElement(e,{popping:n,route:r,previousRoute:i,navigate:o,props:t})));return r.displayName=`withRouteContext(${t=e,t.displayName||t.name||"UnnamedComponent"})`,r}var U=e=>(t,{tripModal:a,...r})=>{if("object"==typeof a){var{title:o,id:i,scrollToReference:n}=a;if(i){var s=`Trips/${i}`;return o&&(s+=`/${encodeURIComponent(o)}`),n&&n.type&&n.id&&(s+=`?type=${n.type}&id${n.id}`),{path:s}}}return e(t,r)},_=e=>({path:e}),W=e=>{var t={preloadForumPostIds:[],preloadLinkPostIds:[],preloadPhotoIds:[],preloadMediaBatchIds:[],preloadRepostIds:[],preloadReviewIds:[],preloadVideoIds:[]};if(!e)return t;var a=e.split("_"),r=Number(a[1]);if(!isNaN(r))switch(a[0]){case"ForumPost":t.preloadForumPostIds=[r];break;case"LinkPost":t.preloadLinkPostIds=[r];break;case"Photo":t.preloadPhotoIds=[r];break;case"Repost":t.preloadRepostIds=[r];break;case"Review":t.preloadReviewIds=[r];break;case"Video":t.preloadVideoIds=[r];break;case"MediaBatch":t.preloadMediaBatchIds=[r]}return t},V=e=>{var{modal:t,card:a}=e;return t?W(t):a?W(a):{preloadForumPostIds:[],preloadLinkPostIds:[],preloadPhotoIds:[],preloadMediaBatchIds:[],preloadRepostIds:[],preloadReviewIds:[],preloadVideoIds:[]}},A=e=>({username:e}),D=(e,t)=>({tripId:e,tripTitle:t}),F=(e,{tripId:t})=>{var a=e;return t&&(a+=`/${t}`),{path:a}},G=e=>({tripId:e}),z=/^([^-]+)-(.*)$/,J=/\.([a-z]*[_|.])?(?:html|xml)$/,Y=(e,...t)=>{var a,r,o=z.exec(e),i={};o&&(i={page:o[1]},o[2]&&(i={...(a=o[2],r=J.exec(a),(r&&r.index?a.substring(0,r.index):a).split("-").filter((e=>null!==e&&""!==e)).map((e=>{var t,a=null,r=null;if(e.length>=3&&(e.startsWith("zf")||e.startsWith("zu")||e.startsWith("zr")||e.startsWith("zs")))a=e.substring(0,3),r=e.substring(3);else{if(a=e.substring(0,1),r=e.substring(1),(t=a)&&t===t.toUpperCase()&&t!==t.toLowerCase()||(e=>!isNaN(parseInt(e,10)))(a)||"_"===a)return null;a=(e=>{switch(e){case"g":return"geo";case"d":return"detail";default:return e}})(a)}return{key:a,value:r}})).reduce(((e,t)=>{if(t&&null!==t.key&&""!==t.key&&null!==t.value){var a={};return a[t.key]=t.value,{...a,...e}}return e}),{})),...i}));var n=t?t.filter((e=>""!==e)):void 0;return n&&n.length?{page:e,...i,nonEmptyPathParams:n}:{page:e,...i}},q=/^\/([^?]+)(?:\?(.*))?$/,K=/Tourism-g(\d+)/g,Q=({page:e,...t})=>{var{path:a,...r}=(C[e]||C.default)(e,t),o=a;r.nonEmptyPathParams&&r.nonEmptyPathParams.length&&r.nonEmptyPathParams[0].match(K)&&(o=r.nonEmptyPathParams.shift(),r.nonEmptyPathParams.length||(r.nonEmptyPathParams=void 0));var i=Object.keys(r).filter((e=>void 0!==r[e])).reduce(((e,t)=>(e[t]=r[t],e)),{}),n=new URLSearchParams(i).toString();return`/${o}${n.length?"?":""}${n}`},X=e=>{var t,a,[,r,o]=q.exec(e)||[null,"",""],[...i]=r.split("/"),n=e.match(K);if("/"===e)a="Home";else if(n&&n.length>0)a=n[0].replace("Tourism","Home");else{if(!r)return null;a=i.shift()}var s=I[a];return t=s?{page:a,...s(...i)}:{...I.default(a,...i)},new URLSearchParams(o).forEach(((e,a)=>{t[a]=e})),t},Z=["Profile","Trips","Owners","BrandOwners","ManageShopping","SpecialOfferWebview","HotelsManagementCenter","HotelsManageListing","SafetyManagementCenter","FavoriteReviewManagement","OwnerVerification","SpecialOfferManagement","ViewAchAuthorization","Starter_Packages","Recovery_Packages"],ee=(e,t=Z)=>t.includes(e),te=(e,t=Z)=>ee(e.page,t),ae=(e,t,a=Z)=>e===t||ee(e,a)&&ee(t,a),re=(e,t,a=Z)=>ae(e.page,t.page,a),oe=({href:e,to:t,target:r,onClick:o,children:i,className:s,activeClassName:l,title:u,label:p,dataAttributes:d,stripNoreferrerNoopener:c,dir:v,rel:h})=>{var g=t&&void 0===e?Q(t):e,m=h;return null==m&&(m="_blank"!==r||c?null:"noopener noreferrer"),a.createElement(b,null,(({navigate:e,route:l})=>a.createElement("a",Object.assign({},n(d),{rel:m,href:g,target:r,onClick:a=>{o&&o(a),0!==a.button||a.isDefaultPrevented()||e&&t&&N(l,t)&&e(t)&&a.preventDefault()},className:s,title:u,"aria-label":p,dir:v}),i)))},ie=(e,t)=>Object.keys(t).reduce(((a,r)=>{return a&&!!((o=t[r])===(i=e[r])||"function"==typeof o&&o(i));var o,i}),!0),ne=e=>{var{route:t,navigate:r}=a.useContext(y),o={...t,...e},i=ie(t,Object.entries(e).reduce(((e,[t,a])=>Object.assign(e,{[t]:e=>s(a,e)})),{})),n={...t};Object.keys(e).forEach((e=>{delete n[e]}));var l=a.useCallback((()=>{r(o)}),[r,o]),u=a.useCallback((()=>{var e,t;null!=(null==(e=window)||null==(t=e.history)?void 0:t.state)?window.history.back():r(n)}),[r,n]);return{matches:i,to:o,without:n,open:l,close:u}},se=({mobileTarget:e,viewportCategory:t,...r})=>{var o="MOBILE"===t&&e?e:r.target;return a.createElement($,Object.assign({},r,{target:o}))},le=({route:e,props:{children:t,...a}})=>ie(e,a)&&t||null,ue=(e,t)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce(((a,r)=>a&&e[r]===t[r]),!0),pe=({route:e,props:{children:t,...a}})=>ue(e,a)&&t||null,de=["Trips","TripsWebview","Owners","BrandOwners","HotelsManagementCenter","DestinationArticle","HotelsManageListing","SafetyManagementCenter"],ce={},ve=(e,t)=>!!(t.exact&&ue(e,t.exact)||t.match&&ie(e,t.match)),he=(e,t,r)=>l((e=>({currentRoute:e.route})))(((e,t,r)=>{var o=new Map,i=e=>{var t,r;return o.has(e)||o.set(e,(t=e.component,{loadable:r=new c(t),component:()=>a.createElement(v,{component:r})})),o.get(e)},n=({currentRoute:t})=>{var o=e.filter((e=>ve(t,e))).map(((e,t)=>a.createElement(i(e).component,{key:t})));return a.createElement(b,null,(e=>a.createElement(w,{value:{...e,navigate:(t,a={})=>e.navigate(t,{...a})}},a.createElement(r||a.Fragment,null,o))))};return n.stage=(...t)=>{e.filter((e=>ve(p().getState().route,e))).forEach((e=>{var a=i(e);a.loadable.isLoaded()&&("function"==typeof a.loadable.stage&&a.loadable.stage(...t),"function"==typeof a.loadable.get().stage&&a.loadable.get().stage(...t))}))},n})(e,0,r)),ge=()=>{var{route:{detail:e}}=a.useContext(y);try{return parseInt(e,10)}catch(e){return console.error("Could not parse detail parameter as a number",e),null}},me=(e=(()=>!0))=>{var{addBeforeNavigationCallback:t,removeBeforeNavigationCallback:a}=r(y),[n,s]=o();if(i((()=>{var r=t=>!!e(t.to)&&(s(t),!0);return t(r),()=>a(r)}),[e,t,a]),null!=n){var{to:l,continueNavigation:u}=n;return[l,()=>{s(null),u()},()=>{s(null)}]}return[null,()=>{},()=>{}]};return e("withRouteContext",H),[()=>{f=a.createContext({route:{},previousRoute:{},navigate:()=>{},addBeforeNavigationCallback:()=>{},removeBeforeNavigationCallback:()=>{},popping:!1}),({Provider:w,Consumer:b}=f),y=f,P=U(((e,{modal:t,card:a,username:r,fid:o,geo:i,allowedTypes:n,...s})=>{var l="",u=["LinkPost","ForumPost","Repost","Review","Photo","Video"],p=s,d=o;if(r&&"string"==typeof r){if(t&&"string"==typeof t){var c=t.split("_");l=u.includes(c[0])?`Profile/${r}/${c.join("/")}`:`Profile/${r}/${t}`,d=void 0}else if(!("tab"in s)&&a&&"string"==typeof a){var v=a.split("_");u.includes(v[0])?l+=`Profile/${r}/${v.join("/")}`:l+=`Profile/${r}/${a}`}}else i&&(l+=`Home-g${i}`);return d&&(p.fid=o),n&&(p.allowedTypes=n),{path:l,...p}})),k=U(((e,{modal:t,card:a,username:r,feedIdToRestore:o,fid:i,...n})=>{var s=e;r&&(s+=`/${r}`);var l=["LinkPost","ForumPost","Repost","Review","Photo","Video","MediaBatch"],u=n,p=i;if(t&&"string"==typeof t){var d=t.split("_");l.includes(d[0])?s+=`/${d.join("/")}`:s+=`/${t}`,p=void 0}else if(!("tab"in n)&&a&&"string"==typeof a){var c=a.split("_");l.includes(c[0])?s+=`/${c.join("/")}`:s+=`/${a}`}return p&&(u.fid=i),{path:s,...u}})),R=U(((e,{tripId:t,tripTitle:a,...r})=>{var o=e;return t&&(o+=`/${t}`,a&&(o+=`/${encodeURIComponent(a)}`)),{path:o,...r}})),C={default:U(((e,t)=>({path:e,...t}))),Home:P,Profile:k,Trips:R,Saves:F},I={default:Y,Home:_,Profile:A,Trips:D,Saves:G},N=re,oe.defaultProps={target:void 0,onClick:void 0,children:null,className:"",activeClassName:"",to:void 0,href:void 0,title:void 0,dataAttributes:void 0,stripNoreferrerNoopener:!1,dir:""},$=oe,S=ne,E=l((e=>({viewportCategory:e.meta.device.viewportCategory})))(se),T=H(le),M=H(pe),x=new Set,e("Router$1",h=class extends a.Component{constructor(...e){super(...e),this.state={previous:null}}record(e,t,a=!1){d({module:e.page,action:"SPA_NAVIGATION"}),"object"==typeof window&&window.history&&(a?this.state.previous?window.history.back():t?(window.history.replaceState(e,"",Q(e)),this.setState({previous:{...t}})):(window.history.replaceState(e,"",Q(e)),this.setState({previous:{...e}})):(window.history.pushState(e,"",Q(e)),this.setState({previous:{...t}})))}render(){var{route:e,navigate:t,children:r}=this.props;return a.createElement(w,{value:{popping:!1,previousRoute:null,route:e,addBeforeNavigationCallback:e=>x.add(e),removeBeforeNavigationCallback:e=>x.delete(e),navigate:(a,r)=>{var o,{noHistory:i,reset:n}=r||{},s={...e},l=!1,u=()=>{var r,o=Q(a);i||N(s,a)||(window.location=o,r=!0),l&&window.history.back(),i||(de.includes(a.page)&&de.includes(e.page)&&a!==e&&window.scrollTo(0,0),r||this.record(a,s,n)),t(a,o)};return o={to:a,continueNavigation:u},[...x].some((e=>e(o)))?i&&(window.history.pushState(s,"",Q(s)),l=!0):u(),!0}}},r)}}),L=l(((e,t)=>({...t,route:e.route||{}})),{navigate:u.route.navigate})(h),e("History$1",g=class extends a.Component{constructor(...e){super(...e),this.popState=e=>{var t,{state:a}=e;null!=(t=a)&&t.params||(a&&a.page||(a=X(window.location.pathname+window.location.search)),a&&this.props.navigate(a,{noHistory:!0})||window.location.reload())}}componentDidMount(){window.addEventListener("popstate",this.popState);var e=window.location.hash,{lithiumRoute:t}=this.props;if(e&&!t.fragment){var a={...t,fragment:e.substring(1)};this.props.navigateLithium(a)}}componentWillUnmount(){window.removeEventListener("popstate",this.popState)}render(){return null}}),O=l(((e,t)=>{var a;return{...t,lithiumRoute:(null==(a=e.lithiumRoute)?void 0:a[0])||{}}}),{navigateLithium:u.lithiumRoute.navigate})(g),j=H(O),B={title:void 0,metaTags:[],canonicalUrl:void 0,openGraphInfo:void 0},e("HeadProperties$1",m=class extends a.Component{constructor(...e){super(...e),this.state={isMounted:!1}}static getCurrent(){return B}componentDidMount(){this.setState({isMounted:!0})}render(){if(this.state.isMounted)this.props.title&&(document.title=this.props.title);else{if(B.title=this.props.title||B.title,this.props.metaTags){var e=B.metaTags||[];this.props.metaTags.forEach((t=>{var a=JSON.stringify(t);a in ce||(ce[a]=!0,e.push(t),B.metaTags=e)}))}B.canonicalUrl=this.props.canonicalUrl||B.canonicalUrl,B.openGraphInfo=this.props.openGraphInfo||B.openGraphInfo}return null}}),m.defaultProps={title:void 0,metaTags:void 0,canonicalUrl:void 0,openGraphInfo:void 0},e({Exact:M,HeadProperties:m,History:j,Link:$,Match:T,ResponsiveTargetLink:E,RouteConsumer:b,RouteContext:y,Router:L,StaticLoadableRoutes:he,applyPredicates:ve,buildUrl:Q,canNavigate:N,canNavigateBetweenPages:ae,exact:ue,getPreloadIds:V,isRoutable:te,match:ie,parseUrl:X,useBeforeNavigation:me,useLocationDetail:ge,useRouteState:S,withRouteContext:H})},[e=>(a=e,r=e.useContext,o=e.useState,i=e.useEffect),e=>n=e.default,e=>s=e.default,e=>l=e.connect,e=>(u=e.actions,p=e.getStore),e=>d=e.default,e=>(c=e.Loadable,v=e.Load)]]},["cDcdfi","BIMMTw","YwNsO_","h74DsO","aunxON","Jk5sjx","asW43G"]]);
