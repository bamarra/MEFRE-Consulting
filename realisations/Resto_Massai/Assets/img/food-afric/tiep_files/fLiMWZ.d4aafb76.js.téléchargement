(this.$WP=this.$WP||[]).push(["fLiMWZ",(e,t)=>{"use strict";var a,l,r,s,n,i,o,c,m,d,p,u,E,T,f,_,v,h,N,g,P,w,A="eAfEf b",y="fVHYW z",b="dFgmT z v K",S="chJBT z",x="dmYpa",R={DEFAULT_CTA_TEXT:()=>m("view_deal"),VP_BOARD_LABEL:e=>(e=>(N||(N={RO:m("board_basis_room_only"),SC:m("board_basis_self_catering"),BB:m("board_basis_breakfast_included"),HB:m("board_basis_half_board"),FB:m("board_basis_full_board"),AI:m("board_basis_all_inclusive")}),N[e]))(e)||null,VP_OFFER_HAS_AIRPORT_TRANSFER:()=>m("tags_category_tag_airport_transportation"),VP_STAY_NIGHTS_PLUS_FLIGHT:e=>m("num_night_stay_plus_flight_v2",{nNights:e}),VP_STAY_NIGHTS:e=>m("mobile_ib_nights_plural",{0:e}),VP_PER_PERSON:()=>m("vp_per_person_short"),VP_HOTEL_PLUS_FLIGHT:()=>m("hotel_plus_flight")},O=e=>{var{logoUrl:t,displayName:l,showExtLinkIcon:s,noLogo:n}=e;return t||l?n||!t?a.createElement("div",{className:"dkcfF z q"},a.createElement("span",{className:y},l),s?a.createElement(D,null):null):a.createElement(r,{className:o("bQpEC"),src:t,alt:l}):null},L=({children:e})=>a.createElement(d,{size:"large",type:"original"},e),D=()=>a.createElement(c,{name:"external-link-no-box"}),k=({priceText:e,strikeThroughText:t,isPerPersonRate:l=!0,showStrikeThroughPrice:r=!0})=>a.createElement("div",{className:"LLBal"},r&&t&&t!==e?a.createElement("div",{className:"eKBWP b"},t):null,a.createElement("div",{className:A},e,l&&a.createElement("span",{className:"brefe"},R.VP_PER_PERSON()))),C=({offer:e,fields:t})=>{var l=[];return t.forEach((t=>{var a=((e,t)=>{switch(t){case"boardBasis":return R.VP_BOARD_LABEL(e.boardBasisCode||"NONE");case"airportTransfer":return!0===e.hasAirportTransfer?R.VP_OFFER_HAS_AIRPORT_TRANSFER():null;case"hotelPlusFlight":return R.VP_HOTEL_PLUS_FLIGHT();case"numNightsPlusFlight":return e.stayNights>0?R.VP_STAY_NIGHTS_PLUS_FLIGHT(e.stayNights):null;case"numNights":return e.stayNights>0?R.VP_STAY_NIGHTS(e.stayNights):null;default:return null}})(e,t);null!=a&&l.push(a)})),l.map((e=>a.createElement("span",{className:"cFJBX z",key:e},e)))},I=e=>{var{offer:t,noLogo:l}=e,{strikeThroughText:r,priceText:s,providerDisplayName:o,providerLogoUrl:c}=t;return a.createElement("div",{className:"cSFAZ z w"},a.createElement(n,{gapless:!0,verticallyCentered:!0,gaplessVertical:!0,mobile:!0},a.createElement(i,{width:6,mobile:{width:6}},a.createElement(O,{logoUrl:c,displayName:o,noLogo:l,showExtLinkIcon:!0})),a.createElement(i,{width:6,mobile:{width:6}},a.createElement(k,{priceText:s,strikeThroughText:r}))),a.createElement(n,{gapless:!0,gaplessVertical:!0,mobile:!0},a.createElement(i,{width:12,mobile:{width:12}},a.createElement("div",{className:b},a.createElement(C,{offer:t})))))},U=e=>{var{viewDealText:t=R.DEFAULT_CTA_TEXT()}=e;return a.createElement("div",{className:o("ui_columns is-gapless is-gapless-vertical is-mobile","fysTk z w v")},a.createElement(i,{width:8,mobile:{width:8}},a.createElement("div",{className:"fscfF"},a.createElement(I,e))),a.createElement("div",{className:o("ui_column is-4 is-4-mobile","etMnD")},a.createElement("div",{className:S},a.createElement(L,null,a.createElement("span",{className:"dQewC"},t)))))},F=({offer:e})=>{var{providerDisplayName:t,priceText:l}=e;return a.createElement("div",{className:"eAQEq w"},a.createElement("div",{className:"ebgRc"},a.createElement("div",{className:y},t,a.createElement(D,null)),a.createElement("span",{className:"ddAkX"}),a.createElement("div",{className:A},l)),a.createElement("div",{className:b},a.createElement(C,{offer:e})))},V=e=>{var{viewDealText:t=R.DEFAULT_CTA_TEXT()}=e;return a.createElement("div",{className:"fvNKe z w"},a.createElement(I,e),a.createElement("div",{className:S},a.createElement(L,null,t)))},B=e=>{var{viewDealText:t=R.DEFAULT_CTA_TEXT(),offer:l}=e,{priceText:r,providerDisplayName:s,providerLogoUrl:n}=l;return a.createElement("div",{className:"dRcli w"},a.createElement("div",{className:b},a.createElement(C,{offer:l,fields:["boardBasis","airportTransfer","numNights"]})),a.createElement("div",{className:"cQRNy"},a.createElement("div",{className:x},a.createElement(k,{priceText:r}),a.createElement(O,{logoUrl:n,displayName:s,noLogo:!0,showExtLinkIcon:!0})),a.createElement("div",{className:x},a.createElement(d,null,t))))},G=e=>{var{viewDealText:t=R.DEFAULT_CTA_TEXT(),offer:l,mapOfferType:r}=e,{strikeThroughText:s,priceText:n,providerDisplayName:i,providerLogoUrl:o,isPerPersonRate:c}=l;return a.createElement("div",{className:"bCaIg w"},a.createElement("div",{className:"fstQQ"},a.createElement("div",{className:"list"===r?"cPdiz":"epojB"},a.createElement(k,{priceText:n,strikeThroughText:s,isPerPersonRate:c,showStrikeThroughPrice:!1}),a.createElement(O,{logoUrl:o,displayName:i,noLogo:!0,showExtLinkIcon:!0})),a.createElement("div",{className:"bDlZl"},a.createElement(d,{size:"small",type:"original"},t))))},z=e=>{var t,{displayType:l,offer:r,onClick:n,className:i,viewportCategory:c}=e,{offerUrl:m}=r;return t="detailChevron"===l?a.createElement(U,e):"dominant"===l?a.createElement(V,e):"logoText"===l?a.createElement("div",{className:"bvRWc z w"},a.createElement(I,e)):"text"===l?a.createElement("div",{className:"bLlwp z w"},a.createElement(I,Object.assign({},e,{noLogo:!0}))):"detailText"===l?a.createElement(F,e):"detailShelf"===l?a.createElement(B,e):"mapList"===l?a.createElement(G,Object.assign({mapOfferType:"list"},e)):"mapPopup"===l?a.createElement(G,Object.assign({mapOfferType:"popup"},e)):null,"none"===l?null:a.createElement(s,{target:"MOBILE"===c?"_self":"_blank",encodedUrl:m,useSpan:!1,onClick:e=>n(r,e),className:o("cljMB _T _S v K z",i)},t)},H=e=>{var{onViewDeal:t,offers:l,displayType:r,separator:s,className:n}=e,i=l.map((e=>a.createElement("li",{className:"fqXDp",key:e.offerUrl},a.createElement(g,{displayType:r,offer:e,onClick:t}))));return a.createElement("ul",{className:o("PwRAM _A f e u P0 _T",s&&"fusBy",n)},i)},W="eZSBq _R",j="bGyNA Wh C- Wc _S b",X=e=>m("view_all_n_deals_plural",{0:e}),M=(e,t)=>m("view_all_deals_from_commerce_on_list_screen",{0:e,1:t}),q=({expand:e,children:t})=>a.createElement(u,{mobile:a.createElement("a",{onClick:e,className:o("ui_button secondary",W)},t),tablet:a.createElement("a",{onClick:e,className:o("ui_button secondary",W)},t),desktop:a.createElement("a",{onClick:e,className:o(j)},t)}),J=e=>(e.filter((e=>!!e.isLowestPrice)).shift()||e[0]||{}).priceText,Q={UNSUPPORTED_GEO:"UNSUPPORTED_GEO",IN_PROGRESS:"IN_PROGRESS",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},Y={PARTNERS:"PARTNERS",NONE:"NONE"},K=(e,t,a,l)=>{var r,s=!1;return E(((e,t)=>(t,a)=>{var l,s,n,i,o,c={};return e&&null===(c=e(t,a))?null:((e,t,a)=>{var l={...e,rn:a,queryId:t};return`/data/1.0/vacationpackages/offers?${Object.keys(l).sort().filter((e=>null!=l[e]&&0!==l[e].length)).map((e=>`${w(e)}=${w(l[e])}`)).join("&")}`})({rc:(null==(l=t.route)?void 0:l.page)||(null==(s=t.meta)?void 0:s.initialServletName)||"dataapi",locale:null==(n=t.i18n)?void 0:n.locale,currency:null==(i=t.travelerInfo)||null==(o=i.preferences)?void 0:o.currency,...c,hotels:(c.hotels||[]).join(","),geoId:c.geo||t.page.geoId,excludeProviders:(c.excludeProviders||[]).join(","),childrenAges:(c.childrenAges||[]).join(",")},r,a)})(e),(e=>(s=t&&t()||!(!e||!(e.error||e.status&&e.status!==Q.IN_PROGRESS)),r=s?null:e&&e.queryId,s)),((e,t,l)=>a(e,t,l,s)),l)},$=e=>{var{startDate:t,endDate:a}=T(e);return t&&a&&new f(t).daysTo(new f(a))},Z=(e,t,a)=>{var l={module:e,action:t};void 0!==a&&(l.value=a),_(l)},ee=(e,t,a)=>{var l={module:e,action:t};void 0!==a&&(l.value=a),v(l)};return[()=>{O.defaultProps={logoUrl:null,displayName:null,showExtLinkIcon:!1,noLogo:!1},k.defaultProps={strikeThroughText:null,isPerPersonRate:!0,showStrikeThroughPrice:!0},C.defaultProps={fields:["boardBasis","airportTransfer","hotelPlusFlight"]},U.defaultProps=z.defaultProps={onClick:()=>{},noLogo:!1,boardBasisCode:null,hasAirportTransfer:null},V.defaultProps=z.defaultProps,I.defaultProps=z.defaultProps,F.defaultProps=z.defaultProps,B.defaultProps=z.defaultProps,g=l(((e,t)=>({...t,viewportCategory:e.meta.device.viewportCategory})))(z),H.defaultProps={onViewDeal:()=>{},separator:!1,displayType:"logoText",className:null},P=H,e("VpMetaOfferWidget",h=class extends a.Component{constructor(e){super(e),this.clickedExpand=()=>{this.setState({expanded:!0})},this.clickedCollapse=()=>{this.setState({expanded:!1})},this.state={expanded:!1}}getNumOffersToShow(){var{offers:e,limit:t}=this.props;return t>0?Math.min(e.length,t):e.length}renderDefaultAltTreatment(){return a.createElement(u,{mobile:this.renderInlineAltTreatment(),tablet:this.renderPopoverAltTreatment(),desktop:this.renderPopoverAltTreatment()})}renderPopoverAltTreatment(){var{offers:e,altType:t,limit:l,viewDealText:r,onViewDeal:s}=this.props,n={},i=this.getNumOffersToShow(),o=J(e),m=o?M(i,o):X(i);return a.createElement("div",{className:"bgnsm"},a.createElement(p,{below:!0,alignEdge:"left",minWidth:160,closeButton:!1,contents:()=>a.createElement("div",{className:"WxUgW"},a.createElement(P,{offers:e.slice(0,l),displayType:t,viewDealText:r,onViewDeal:s}))},((e,t)=>a.createElement("a",{ref:e,style:n,onClick:t,className:j},m,a.createElement(c,{name:"caret-down"})))))}renderInlineAltTreatment(){var{expanded:e=!1}=this.state,{offers:t,limit:l,viewDealText:r,onViewDeal:s,altType:n}=this.props,i=this.getNumOffersToShow(),c=J(t),d=c?M(i,c):X(i),p=a.createElement(q,{expand:this.clickedExpand},d),u=m("collapse_deals"),E=a.createElement("a",{onClick:this.clickedCollapse,className:o("ui_button secondary",W)},u);return a.createElement("div",{className:"eNCHc"},e?a.createElement(P,{displayType:n,offers:t.slice(0,l),viewDealText:r,onViewDeal:s,separator:!0}):null,a.createElement("div",{className:"fFEmS"},e?E:p))}renderAltTreatment(){var{offers:e,show:t,altTreatment:a,altType:l}=this.props,r=null;return"none"!==l&&e&&e.length>t&&(r="inline"===a?this.renderInlineAltTreatment():"popover"===a?this.renderPopoverAltTreatment():this.renderDefaultAltTreatment()),r}render(){var{mainType:e,offers:t,viewDealText:l,onViewDeal:r,show:s,limit:n}=this.props,{expanded:i}=this.state;return a.createElement("div",{className:o("dOOzG P0 w _T",i?"GUlpM":"bgrrh")},a.createElement(P,{displayType:e,offers:t.slice(0,s),limit:n,viewDealText:l,onViewDeal:r,className:"cHoaM"}),this.renderAltTreatment())}}),h.defaultProps={onViewDeal:()=>{},show:1,mainType:"detailChevron",altType:"text",altTreatment:"default",limit:25},w=encodeURIComponent,e({OFFER_SOURCE:Y,ORIG_AIRPORT_LARGEST_FOR_POS:"LARGEST_FOR_POS",STATUS:Q,VpMetaOfferWidget:h,VpOffer:g,bindVpData:K,extractNumNights:$,trackEventAJAX:Z,trackEventAJAXOnPageOnce:ee})},[e=>a=e,e=>l=e.connect,e=>r=e.CdnImage,e=>s=e.default,e=>(n=e.Columns,i=e.Column),e=>o=e.default,e=>c=e.Icon,e=>m=e.localize,e=>d=e.default,e=>p=e.default,e=>u=e.ViewportCategory,e=>E=e.bindDataApiPoller,e=>(T=e.decode,f=e.CalendarDate),e=>(_=e.default,v=e.trackEventAJAXOnPageOnce)]]},["cDcdfi","h74DsO","4kVXmt","oiya90","_AgNiB","jSLlaY","_qQcW3","535agn","PCbs_l","eDFcUX","FjihCs","LgmAJW","qK4vTI","Jk5sjx"]]);
