(this.$WP=this.$WP||[]).push(["ui0Mdg",(e,i)=>{"use strict";var t,n,a,r,l,s,o,d,c,m,u,p,k,v,_,h,f,b,y,N,S,g,T,E,I,C,A,w,x,D,P={sms:19907,email:55593,clipboard:19905},R=({url:e,itemType:i,itemId:n,action:a,type:r,children:l})=>{var s=`${i}|${n}|${e}`;return t.createElement(o,{useSpan:!0,module:"ShareCta",action:a,context:s,once:!1,value:r&&"repost_action"!==r?P[r]:void 0},l(r&&"repost_action"!==r?(t=>{if("LinkPost"===i)return e;var n=`${-1!==e.indexOf("?")?"&":"?"}m=${t}`;return-1!==e.indexOf("#")?e.replace("#",`${n}#`):`${e}${n}`})(P[r]):e))},L="cUMzq",j="fwTeh",$=({iconName:e,localizedText:i,onClickFunction:r,imgCdnUrl:l,size:s})=>t.createElement("li",{onClick:r,className:n("ui_link","euWlc",{[j]:"small"===s,[L]:"large"===s})},e.startsWith("/")?t.createElement("img",{src:`${l}${e}`,className:n("cFZRT",{[j]:"small"===s,[L]:"large"===s})}):t.createElement(a,{name:e,className:n("bSmSu","fQReC",{[j]:"small"===s,[L]:"large"===s})}),t.createElement("span",null,i)),F=({url:e,itemType:i,size:n})=>{var a;return a=r("LinkPost"===i?"share_sms_link":"ReadTrip"===i?"trips_share_email_subject":"WriteTrip"===i?"trips_collaborate_invite_email_subject":"link_share_sms_checkthisout"),t.createElement(_,{iconName:"text-message",localizedText:r("link_share_option_sms"),size:n,onClickFunction:()=>((e,i)=>{var t=`${i} ${e}`;t.length>140&&(t=e),window.location.href=`sms:?&body=${encodeURIComponent(t)}`})(e,a)})},O=["Restaurant_Review","Attraction_Review","MobileAttraction_Review","AttractionProductReview","MobileAttractionProductReview","Hotel_Review","MobileHotel_Review"],V=({url:e,subject:i,firstSentence:n,textBeforeLink:a,textAfterLink:l,size:s})=>t.createElement(_,{iconName:"email",localizedText:r("link_share_option_email"),size:s,onClickFunction:()=>((e,i,t,n,a)=>{var l=encodeURIComponent(e),s=encodeURIComponent(n),o=encodeURIComponent(a),d=encodeURIComponent(i||r("share_email_subject")),c=`${t||r("link_share_sms_checkthisout")}%0D%0A%0D%0A${s?`${s}%0D%0A`:""}${l}%0D%0A${o?`${o}%0D%0A`:""}%0D%0A${r("ib_share_booking_download_app")}%0D%0A${r("app_download_url_secure")}`;window.location.href=`mailto:?subject=${d}&body=${c}`})(e,i,n,a,l)}),z=e=>{if(O.indexOf(e.itemType)>-1)return t.createElement(c,{query:b,variables:{locationId:e.itemId}},(({fetching:i,data:n})=>{var a,l;if(i||!n)return t.createElement(V,e);var s=(null==(a=n.locations)||null==(l=a[0])?void 0:l.name)||"";return t.createElement(V,Object.assign({},e,{subject:r("link_share_email_subject",{0:s}),firstSentence:r("mobile_here_is_a_place_i_found_8e0"),textBeforeLink:s}))}));if("Review"===e.itemType)return t.createElement(c,{query:N,variables:{reviewId:e.itemId}},(({fetching:i,data:n})=>{var a,l;return i||!n?t.createElement(V,e):t.createElement(V,Object.assign({},e,{firstSentence:r("share_email_reviews"),textBeforeLink:(null==(a=n.reviews)||null==(l=a[0])?void 0:l.title)||""}))}));if("Photo"===e.itemType)return t.createElement(c,{query:g,variables:{id:e.itemId}},(({fetching:i,data:n})=>{var a;return i||!n?t.createElement(V,e):t.createElement(V,Object.assign({},e,{firstSentence:r("share_email_photos"),textBeforeLink:(null==(a=n.photos)?void 0:a[0].caption)||""}))}));if("Video"===e.itemType)return t.createElement(c,{query:E,variables:{id:e.itemId}},(({fetching:i,data:n})=>{var a;return i||!n?t.createElement(V,e):t.createElement(V,Object.assign({},e,{firstSentence:r("share_email_videos"),textBeforeLink:(null==(a=n.videos)?void 0:a[0].caption)||""}))}));if("LinkPost"===e.itemType)return t.createElement(V,Object.assign({},e,{subject:r("share_email_link_subject"),firstSentence:r("share_email_link"),textAfterLink:r("share_email_link_attribution")}));if("ForumPost"===e.itemType)return t.createElement(V,Object.assign({},e,{firstSentence:r("share_email_forumtopic")}));if("ForumResponse"===e.itemType)return t.createElement(V,Object.assign({},e,{firstSentence:r("share_email_forumreply")}));if("WriteTrip"===e.itemType||"ReadTrip"===e.itemType){var i="WriteTrip"===e.itemType;return t.createElement(c,{query:C,variables:{id:e.itemId}},(({fetching:n,data:a})=>{var l=e;if(!n&&a){var s,o=a.trips&&a.trips.find((i=>i.id===e.itemId)),d={tripName:o&&o.title||""},c=null==o||null==(s=o.owner)?void 0:s.isMe;l={...e,firstSentence:r("trips_share_email_hey"),subject:r("trips_share_email_subject"),textBeforeLink:r("trips_share_email_body_v2",d)},i?(l.subject=r("trips_collaborate_invite_email_subject"),l.textBeforeLink=r(c?"trips_collaborate_invite_email_body_v2":"trips_collaborate_invite_email_body_collaborator_version",d)):c||(l.subject=r("trips_share_email_subject"),l.textBeforeLink=r("trips_email_share_collaborator_version",d))}return t.createElement(V,l)}))}return t.createElement(V,e)},M=({itemType:e,repostProps:i})=>"Repost"===e?t.createElement(p,{modalName:i.modalName,repostPreviewProps:i.repostPreviewProps,originalRepostReference:i.originalRepostReference,actor:i.actor,socialStatistics:i.socialStatistics,onClick:i.onClick,styleAsShareListItem:!0,openRepostModalAsLocal:!0}):"Video"===e||"Photo"===e||"Review"===e||"LinkPost"===e||"MediaBatch"===e||"ForumPost"===e||"ForumResponse"===e||"NotMyTrip"===e||"ReadTrip"===e||"WriteTrip"===e?t.createElement(p,{modalName:i.modalName,repostPreviewProps:i.repostPreviewProps,actor:i.actor,socialStatistics:i.socialStatistics,onClick:i.onClick,styleAsShareListItem:!0,openRepostModalAsLocal:!0}):null,U=({url:e,itemType:i,itemId:a,viewportCategory:r,headerComponent:l,repostProps:s})=>t.createElement("div",{className:n("emGUn","bgdbU")},l,"MOBILE"===r&&t.createElement(v,{action:"share_select",itemType:i,itemId:a,url:e,type:"sms"},(e=>t.createElement(h,{url:e,itemType:i,size:"small"}))),t.createElement(v,{url:e,itemType:i,itemId:a,action:"share_select",type:"email"},(e=>t.createElement(A,{url:e,itemType:i,itemId:Number(a),size:"small"}))),t.createElement(v,{action:"share_select",itemType:i,itemId:a,url:e,type:"clipboard"},(e=>t.createElement(w,{url:e,size:"small"}))),s&&t.createElement(x,{itemType:i,repostProps:s})),W=({fixed:e,url:i,itemType:n,itemId:a,shiftX:r,shiftY:l,children:s,headerComponent:o,alignEdge:c,repostProps:m,above:u})=>t.createElement(d,{local:!0,closeButton:!1,fixed:e,above:u,below:!0,alignEdge:c,shiftX:r,shiftY:l,shiftArrow:r,arrowType:"small",contents:()=>t.createElement(D,{url:i,itemType:n,itemId:a,headerComponent:o,repostProps:m})},s),q=({url:e,itemType:i,itemId:n,styleAsSocialAction:a,headerComponent:r,onClick:s,alignEdge:o,repostProps:d,above:c,shiftX:m,shiftY:u,hideText:p})=>t.createElement("div",null,t.createElement(W,{url:e,itemType:i,itemId:n,shiftX:m,shiftY:u,headerComponent:r,alignEdge:o,repostProps:d,above:c},((r,o)=>t.createElement(v,{itemType:i,itemId:n,url:e,action:"share_button_click"},(()=>t.createElement(l,null,(e=>t.createElement(B,{onClick:i=>{s&&s(i),e(i,"share"),o()},target:r,styleAsSocialAction:a,hideText:p})))))))),B=({onClick:e,target:i,styleAsSocialAction:l,hideText:s})=>t.createElement("div",{onClick:e,className:n(l?"bpxWy f _T M _S":"bJWZG S5 H4 _S","ezHcg")},t.createElement("span",{ref:i},t.createElement(a,{name:"share",className:l?"cRDuN":"buIQV"}),!s&&t.createElement("span",{className:l?n("ui_link","fWxYK","socialCTA"):"eoEOq"},r("link_share_share")," ")));return[()=>{R.defaultProps={type:null},v=s(((e,i)=>({url:i.url.startsWith("/")?e.meta.baseUrl+i.url:i.url})))(R),$.defaultProps={onClickFunction:()=>!1},_=s((e=>({imgCdnUrl:e.meta.imageCdnUrl})))($),h=F,(f=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PoiDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":103}}')).__key=30493395597162,b=f,(y=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ReviewDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"reviewId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"reviews"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"reviewIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"reviewId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":99}}')).__key=8049210694612,N=y,(S=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PhotoDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"photos"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"photoIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"caption"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":86}}')).__key=0xf892e2b2908,g=S,(T=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"VideoDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"videos"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"videoIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"caption"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":86}}')).__key=0x71275c1e8de7,E=T,(I=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"TripDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"trips"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"tripIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"owner"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"isMe"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":117}}')).__key=0x7db41de4facd,C=I,V.defaultProps={firstSentence:"",subject:"",textBeforeLink:"",textAfterLink:""},A=z,k=class extends t.Component{constructor(...e){super(...e),this.state={copied:!1},this.copyAndClose=(e,i)=>{var t=u.copy(e);return t&&(this.setState({copied:!0}),setTimeout((()=>i()),3e3)),t}}render(){return t.createElement(m,null,(e=>t.createElement(_,{iconName:"link",size:this.props.size,localizedText:this.state.copied?r("link_share_link_copied"):r("link_share_option_clipboard"),onClickFunction:this.state.copied?void 0:()=>this.copyAndClose(this.props.url,e)})))}},w=k,x=M,D=s(((e,i)=>({...i,url:i.url.startsWith("/")?e.meta.baseUrl+i.url:i.url,viewportCategory:e.meta.device.viewportCategory})))(U),W.defaultProps={fixed:!1,shiftX:0,shiftY:0,headerComponent:null,alignEdge:"right"},q.defaultProps={styleAsSocialAction:!1,headerComponent:null,onClick:void 0,above:!1,shiftX:6,shiftY:4,hideText:!1},B.defaultProps={styleAsSocialAction:!1,hideText:!1},e({ShareCta:q,ShareDropdownMenu:D,SharePopover:W,ShareTarget:B,ShareTracker:v})},[e=>t=e,e=>n=e.default,e=>a=e.Icon,e=>r=e.localize,e=>l=e.InteractionLogger,e=>s=e.connect,e=>o=e.ClickTracker,e=>d=e.default,e=>c=e.Query,e=>m=e.Closer,e=>u=e.default,e=>p=e.RepostAction]]},["cDcdfi","jSLlaY","_qQcW3","535agn","pZzSdK","h74DsO","Jk5sjx","eDFcUX","5X2em-","pT-O8u","vLhQxP","5miaKe"]]);
